<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERP Core 6.0 - 全业务数字孪生平台</title>
    <!-- 
        ERP Core 6.0 - 全业务数字孪生平台
        技术文档
        
        1. 页面结构说明
        - 顶部导航栏：包含logo、主导航菜单和版本信息
        - 主内容区：动态加载不同页面视图
        - 响应式设计：适配多种屏幕尺寸
        
        2. 主要功能模块
        - 导航菜单：9个业务领域，38个页面视图
        - 数据可视化：进度条、环形图、柱状图、甘特图等
        - 表格功能：排序、搜索、筛选
        - 交互式组件：模态框、下拉菜单、日期选择器、筛选面板
        - 服务健康监控：动态更新的服务健康墙
        
        3. 技术栈
        - HTML5 + CSS3 + JavaScript (ES6+)
        - CSS Grid 和 Flexbox 布局
        - CSS 变量实现主题管理
        - 原生 JavaScript 实现组件功能
        - 响应式设计（断点：1200px, 992px, 768px, 576px）
        
        4. 使用方法
        - 点击导航菜单切换不同业务领域和页面视图
        - 使用筛选面板过滤数据
        - 使用日期选择器选择日期范围
        - 点击表格表头排序数据
        - 在搜索框中输入关键词搜索
        
        5. 浏览器兼容性
        - Chrome 80+
        - Firefox 75+
        - Safari 13+
        - Edge 80+
        
        6. 后续开发建议
        - 添加更多交互效果
        - 优化数据加载性能
        - 增加更多图表类型
        - 实现数据持久化
        - 添加用户认证和授权
    -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* 深色主题 */
            --bg-body: #060b16;
            --bg-card: #0f172a;
            --bg-nav: #0f172a;
            --text-main: #f8fafc;
            --text-muted: #64748b;
            --accent-primary: #6366f1;
            --accent-secondary: #8b5cf6;
            --border-subtle: #1e293b;
            --bg-hover: #1e293b;
            --header-height: 56px;
        }

        /* 白色主题 */
        .light-theme {
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --bg-nav: #ffffff;
            --text-main: #1e293b;
            --text-muted: #475569;
            --accent-primary: #6366f1;
            --accent-secondary: #8b5cf6;
            --border-subtle: #e2e8f0;
            --bg-hover: #f1f5f9;
        }

        /* 白色主题下的特殊样式调整 */
        .light-theme .navbar {
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.1);
        }

        .light-theme .mega-menu {
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        .light-theme .card {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .light-theme .card:hover {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: 'Inter', 'PingFang SC', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* --- Mega Navbar --- */
        .navbar {
            background: linear-gradient(135deg, var(--bg-nav), var(--bg-hover));
            height: var(--header-height);
            display: flex;
            align-items: center;
            padding: 0 32px;
            border-bottom: 1px solid var(--border-subtle);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 2000;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            color: var(--text-main);
            font-size: 16px;
            font-weight: 900;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 8px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .logo:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(99, 102, 241, 0.2);
            background: rgba(99, 102, 241, 0.15);
        }

        .logo-mark {
            width: 28px;
            height: 28px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
            transition: all 0.3s ease;
        }

        .logo:hover .logo-mark {
            transform: scale(1.1) rotate(5deg);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            height: 100%;
            margin: 0 auto;
        }

        .nav-item {
            height: var(--header-height);
            display: flex;
            align-items: center;
            position: relative;
            z-index: 1500;
        }

        .nav-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 13px;
            font-weight: 600;
            padding: 0 20px;
            height: 100%;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            letter-spacing: 0.3px;
            text-transform: uppercase;
            width: 100%;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-link:hover {
            color: var(--text-main);
            background: rgba(99, 102, 241, 0.1);
            transform: translateY(-2px);
        }

        .nav-link:hover::before {
            width: 80%;
        }

        .nav-link.active {
            color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.15);
            box-shadow: inset 0 -3px 0 var(--accent-primary);
        }

        .nav-link.active::before {
            width: 80%;
        }

        /* --- Mega Dropdown --- */
        .mega-menu {
            position: absolute;
            top: var(--header-height);
            left: 0;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            opacity: 0;
            visibility: hidden;
            -webkit-transform: translateY(-8px);
            transform: translateY(-8px);
            -webkit-transition: all 0.3s ease;
            transition: all 0.3s ease;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1000;
            min-width: 200px;
            width: auto;
            box-sizing: border-box;
            border-radius: 8px;
        }

        .nav-item:hover .mega-menu {
            opacity: 1;
            visibility: visible;
            -webkit-transform: translateY(0);
            transform: translateY(0);
        }

        .mega-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            -webkit-transition: all 0.2s ease;
            transition: all 0.2s ease;
            border-radius: 6px;
            position: relative;
        }

        .mega-link:hover {
            color: var(--text-main);
            background: var(--bg-hover);
        }

        .service-code {
            font-size: 10px;
            color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.1);
            padding: 4px 8px;
            border-radius: 4px;
            font-family: monospace;
            white-space: nowrap;
        }

        /* --- Layout --- */
        .main {
            padding: 80px 32px 40px;
        }

        .view-header {
            margin-bottom: 24px;
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
        }

        .breadcrumb {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-main);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            margin-bottom: 16px;
        }

        .card:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .card:last-child {
            margin-bottom: 0;
        }

        /* Dashboard Grid Layout */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        /* Improve spacing for card content */
        .card-label {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .card-value {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 4px;
            line-height: 1.2;
        }

        .card-meta {
            font-size: 10px;
            color: #10b981;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* --- High Fidelity Service Components --- */
        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            text-align: left;
            padding: 10px;
            font-size: 9px;
            color: var(--text-muted);
            text-transform: uppercase;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-subtle);
        }

        td {
            padding: 12px 10px;
            font-size: 12px;
            color: var(--text-main);
            border-bottom: 1px solid var(--border-subtle);
        }

        .status-tag {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 9px;
            font-weight: 700;
        }

        .status-ok {
            background: rgba(16, 185, 129, 0.1);
            color: #10b981;
        }

        .status-warn {
            background: rgba(245, 158, 11, 0.1);
            color: #f59e0b;
        }

        .service-health-grid {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
        }

        .health-dot {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 4px;
            background: #10b981;
            opacity: 0.8;
            cursor: pointer;
            position: relative;
        }

        .health-dot:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        .health-tooltip {
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-card);
            color: var(--text-main);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 9px;
            white-space: nowrap;
            visibility: hidden;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .health-dot:hover .health-tooltip {
            visibility: visible;
        }

        .event-feed {
            font-size: 11px;
            color: #94a3b8;
        }

        .event-item {
            padding: 8px 0;
            border-bottom: 1px solid #1f2937;
            display: flex;
            gap: 12px;
            align-items: baseline;
        }

        .event-time {
            font-family: monospace;
            opacity: 0.5;
            flex-shrink: 0;
        }

        .event-source {
            font-weight: 700;
            color: var(--accent-primary);
        }

        /* --- Progress Bars --- */
        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #1e293b;
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* --- Donut Charts --- */
        .donut-chart {
            position: relative;
            width: 60px;
            height: 60px;
            margin: 0 auto;
        }

        .donut-chart svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .donut-bg {
            fill: transparent;
            stroke: #1e293b;
            stroke-width: 6;
        }

        .donut-fill {
            fill: transparent;
            stroke: var(--accent-primary);
            stroke-width: 6;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.3s ease;
        }

        .donut-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 12px;
            font-weight: 700;
        }

        /* --- Bar Charts --- */
        .bar-chart {
            display: flex;
            align-items: flex-end;
            gap: 4px;
            height: 120px;
            padding: 12px 0;
        }

        .bar-item {
            flex: 1;
            background: linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px 4px 0 0;
            position: relative;
            transition: height 0.3s ease;
        }

        .bar-label {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 9px;
            color: var(--text-muted);
            white-space: nowrap;
        }

        /* --- Specialized Visuals (Kanban, Gantt) --- */
        .gantt-bar {
            height: 8px;
            background: var(--accent-secondary);
            border-radius: 4px;
            position: relative;
            margin: 6px 0;
            font-size: 9px;
            color: white;
            line-height: 8px;
            padding-left: 4px;
            white-space: nowrap;
            overflow: hidden;
        }

        .kanban-board {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .kanban-col {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            min-width: 140px;
            padding: 8px;
        }

        .kanban-col h4 {
            font-size: 9px;
            margin-bottom: 8px;
            color: #9ca3af;
            text-transform: uppercase;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .kanban-card {
            background: #1f2937;
            padding: 8px;
            border-radius: 4px;
            font-size: 10px;
            margin-bottom: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .progress-circle {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 3px solid #374151;
            border-top-color: var(--accent-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 8px;
            font-weight: 700;
        }

        /* --- Utility Classes --- */
        .version-badge {
            font-size: 10px;
            color: #475569;
            background: #111827;
            padding: 4px 12px;
            border-radius: 12px;
        }

        .view-actions {
            display: flex;
            gap: 8px;
        }

        .btn-primary {
            background: var(--accent-primary);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
        }

        /* --- Grid Classes --- */
        .grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
        }

        /* --- Status Colors --- */
        .text-stable {
            color: #64748b;
        }

        /* --- Spacing Utilities --- */
        .mt-20 {
            margin-top: 20px;
        }

        /* --- Logo Styles --- */
        .logo-accent {
            color: var(--accent-primary);
            font-weight: 700;
        }

        /* --- Theme Toggle --- */
        .theme-toggle {
            position: relative;
            width: 50px;
            height: 24px;
            border-radius: 12px;
            background: var(--bg-hover);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid var(--border-subtle);
            margin: 0 16px;
        }

        .theme-toggle::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--accent-primary);
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
        }

        .theme-toggle.dark::before {
            transform: translateX(26px);
            background: var(--accent-secondary);
        }

        /* --- Version Badge --- */
        .version-badge {
            font-size: 11px;
            font-weight: 700;
            color: var(--text-main);
            background: var(--bg-hover);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .version-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            background: var(--border-subtle);
        }

        /* --- Table Sorting --- */
        th.sortable {
            cursor: pointer;
            user-select: none;
            position: relative;
        }

        th.sortable:hover {
            color: var(--text-main);
        }

        th.sortable::after {
            content: '↕';
            margin-left: 4px;
            font-size: 8px;
            color: var(--text-muted);
            opacity: 0.5;
        }

        th.sortable.sort-asc::after {
            content: '↑';
            opacity: 1;
            color: var(--accent-primary);
        }

        th.sortable.sort-desc::after {
            content: '↓';
            opacity: 1;
            color: var(--accent-primary);
        }

        /* --- Search Filter --- */
        .search-container {
            margin-bottom: 16px;
        }

        .search-input {
            width: 100%;
            padding: 8px 12px;
            background: var(--bg-hover);
            border: 1px solid var(--border-subtle);
            border-radius: 6px;
            color: var(--text-main);
            font-size: 12px;
            transition: 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        /* --- Modal Component --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 3000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            padding: 16px 20px;
            border-bottom: 1px solid var(--border-subtle);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 16px;
            font-weight: 700;
            color: white;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 18px;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            transition: 0.2s;
        }

        .modal-close:hover {
            background: var(--bg-hover);
            color: white;
        }

        .modal-content {
            padding: 20px;
        }

        .modal-footer {
            padding: 16px 20px;
            border-top: 1px solid var(--border-subtle);
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: 0.3s;
        }

        .btn-secondary {
            background: var(--bg-hover);
            color: var(--text-main);
        }

        .btn-secondary:hover {
            background: var(--border-subtle);
        }

        .btn-primary {
            background: var(--accent-primary);
            color: white;
        }

        .btn-primary:hover {
            background: #4f46e5;
        }

        /* --- Dropdown Menu --- */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            background: none;
            border: none;
            color: var(--text-main);
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: 0.2s;
        }

        .dropdown-toggle:hover {
            background: var(--bg-hover);
        }

        .dropdown-toggle::after {
            content: '▼';
            font-size: 8px;
            color: var(--text-muted);
            transition: transform 0.2s ease;
        }

        .dropdown.active .dropdown-toggle::after {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            min-width: 160px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            padding: 8px 0;
            margin-top: 4px;
            display: none;
            z-index: 2500;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.2s ease, transform 0.2s ease;
        }

        .dropdown.active .dropdown-menu {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .dropdown-item {
            display: block;
            width: 100%;
            padding: 8px 16px;
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 12px;
            text-align: left;
            cursor: pointer;
            transition: 0.2s;
        }

        .dropdown-item:hover {
            background: var(--bg-hover);
            color: var(--text-main);
        }

        .dropdown-item.divider {
            padding: 0;
            height: 1px;
            background: var(--border-subtle);
            margin: 4px 0;
            cursor: default;
        }

        .dropdown-item.divider:hover {
            background: var(--border-subtle);
        }

        /* --- Loading States --- */
        /* Full page loader */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg-body);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 4000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .loader-overlay.active {
            display: flex;
            opacity: 1;
        }

        /* Spinner styles */
        .spinner {
            width: 32px;
            height: 32px;
            border: 3px solid var(--border-subtle);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        .spinner.small {
            width: 16px;
            height: 16px;
            border-width: 2px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        /* Inline loader */
        .inline-loader {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-muted);
            font-size: 11px;
        }

        /* Skeleton loader */
        .skeleton {
            background: linear-gradient(90deg, var(--border-subtle) 25%, #334155 50%, var(--border-subtle) 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 4px;
        }

        @keyframes skeleton-loading {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        .skeleton.text {
            width: 100%;
            height: 16px;
            margin-bottom: 8px;
        }

        .skeleton.text.short {
            width: 50%;
        }

        .skeleton.card {
            height: 120px;
        }

        /* Button loading state */
        .btn.loading {
            opacity: 0.7;
            cursor: not-allowed;
            position: relative;
        }

        .btn.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            right: 12px;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        /* --- User Experience Enhancements --- */
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Content transition */
        #dynamic-content {
            transition: opacity 0.3s ease, transform 0.3s ease;
            opacity: 1;
            transform: translateY(0);
        }

        /* Focus styles for accessibility */
        *:focus {
            outline: 2px solid var(--accent-primary);
            outline-offset: 2px;
        }

        /* Selection styles */
        ::selection {
            background: var(--accent-primary);
            color: white;
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--border-subtle);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #4f46e5;
        }

        /* Text selection for input fields */
        input::selection,
        textarea::selection {
            background: var(--accent-primary);
            color: white;
        }

        /* Page transition animation */
        .page-transition {
            animation: pageFadeIn 0.5s ease-out;
        }

        @keyframes pageFadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Card hover effects */
        .card {
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        /* Button hover effects */
        .btn {
            transition: all 0.3s ease;
        }

        /* Tooltip improvements */
        [title] {
            cursor: help;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --bg-body: #000000;
                --bg-card: #1a1a1a;
                --border-subtle: #ffffff;
            }
        }

        /* --- Date Picker --- */
        .date-picker {
            position: relative;
            display: inline-block;
        }

        .date-picker-input {
            background: var(--bg-hover);
            border: 1px solid var(--border-subtle);
            color: var(--text-main);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            width: 100%;
            transition: 0.3s;
        }

        .date-picker-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .date-picker-calendar {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 8px;
            padding: 16px;
            z-index: 2500;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            min-width: 320px;
            display: none;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .date-picker.active .date-picker-calendar {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .calendar-nav {
            background: none;
            border: none;
            color: var(--text-main);
            font-size: 16px;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: 0.2s;
        }

        .calendar-nav:hover {
            background: var(--bg-hover);
        }

        .calendar-month {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-main);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
        }

        .calendar-day {
            text-align: center;
            padding: 8px;
            font-size: 12px;
            color: var(--text-muted);
            cursor: default;
        }

        .calendar-date {
            text-align: center;
            padding: 8px;
            font-size: 12px;
            color: var(--text-main);
            cursor: pointer;
            border-radius: 4px;
            transition: 0.2s;
        }

        .calendar-date:hover {
            background: var(--bg-hover);
        }

        .calendar-date.today {
            background: var(--accent-primary);
            color: white;
        }

        .calendar-date.selected {
            background: var(--accent-secondary);
            color: white;
        }

        .calendar-date.range-start {
            background: var(--accent-primary);
            border-radius: 4px 0 0 4px;
        }

        .calendar-date.range-middle {
            background: rgba(99, 102, 241, 0.3);
        }

        .calendar-date.range-end {
            background: var(--accent-primary);
            border-radius: 0 4px 4px 0;
        }

        .calendar-date.disabled {
            color: var(--border-subtle);
            cursor: not-allowed;
        }

        .calendar-date.disabled:hover {
            background: none;
        }

        /* Date picker footer */
        .calendar-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-subtle);
        }

        .calendar-buttons {
            display: flex;
            gap: 8px;
        }

        .calendar-mode {
            display: flex;
            gap: 4px;
        }

        .mode-btn {
            background: var(--bg-hover);
            border: 1px solid var(--border-subtle);
            color: var(--text-muted);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 10px;
            cursor: pointer;
            transition: 0.2s;
        }

        .mode-btn.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        /* Responsive calendar */
        @media (max-width: 768px) {
            .date-picker-calendar {
                min-width: 280px;
                left: 50%;
                transform: translateX(-50%) translateY(-10px);
            }

            .date-picker.active .date-picker-calendar {
                transform: translateX(-50%) translateY(0);
            }
        }

        /* --- Filter Panel --- */
        .filter-panel {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: 12px;
            padding: 16px 20px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .filter-title {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-main);
            text-transform: uppercase;
        }

        .filter-toggle {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 14px;
            padding: 4px 8px;
            border-radius: 4px;
            transition: 0.2s;
        }

        .filter-toggle:hover {
            background: var(--bg-hover);
            color: var(--text-main);
        }

        .filter-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .filter-row {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .filter-label {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            font-weight: 700;
        }

        .filter-input,
        .filter-select {
            background: var(--bg-hover);
            border: 1px solid var(--border-subtle);
            color: var(--text-main);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            transition: 0.3s;
        }

        .filter-input:focus,
        .filter-select:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .filter-select {
            cursor: pointer;
        }

        .filter-select option {
            background: var(--bg-card);
            color: var(--text-main);
        }

        .filter-range {
            display: flex;
            gap: 8px;
        }

        .filter-range input {
            flex: 1;
        }

        .filter-actions {
            display: flex;
            gap: 8px;
            justify-content: flex-end;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-subtle);
        }

        .btn.filter-btn {
            font-size: 11px;
            padding: 8px 16px;
        }

        /* Collapsible filter panel */
        .filter-panel.collapsed .filter-content {
            display: none;
        }

        .filter-panel.collapsed .filter-actions {
            display: none;
        }

        /* Responsive filter panel */
        @media (max-width: 768px) {
            .filter-content {
                grid-template-columns: 1fr;
            }

            .filter-range {
                flex-direction: column;
            }

            .filter-actions {
                flex-direction: column;
            }

            .btn.filter-btn {
                width: 100%;
            }
        }

        /* --- Responsive Design --- */
        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .service-health-grid {
                grid-template-columns: repeat(6, 1fr);
            }
        }

        @media (max-width: 992px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .service-health-grid {
                grid-template-columns: repeat(4, 1fr);
            }

            .view-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
        }

        @media (max-width: 768px) {
            .navbar {
                padding: 0 12px;
            }

            .logo span {
                display: none;
            }

            .nav-link {
                padding: 0 8px;
                font-size: 10px;
            }

            .mega-menu {
                flex-direction: column;
                padding: 16px;
                gap: 16px;
                min-width: 250px;
            }

            /* Adjust font sizes for responsive design */
            .mega-col h4 {
                font-size: 10px;
                margin-bottom: 8px;
            }

            .mega-link {
                font-size: 12px;
                padding: 5px 0;
            }

            .service-code {
                font-size: 9px;
            }

            .main {
                padding: 72px 16px 24px;
            }

            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            .service-health-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .page-title {
                font-size: 20px;
            }
        }

        @media (max-width: 576px) {
            .nav-menu {
                display: none;
            }

            .service-health-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            table {
                font-size: 10px;
            }

            th,
            td {
                padding: 8px 6px;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar">
        <div class="nav-left">
            <a href="index.html" class="logo">
                <div class="logo-mark"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="white"
                        stroke-width="3">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                    </svg></div>
                <span>CUBA<span class="logo-accent">CORE</span> PRO</span>
            </a>

            <ul class="nav-menu">
                <!-- FI 财务会计 -->
                <li class="nav-item">
                    <div class="nav-link">FI 财务会计</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('fi_gl')">总分类账 <span class="service-code">gl</span></a>
                        <a class="mega-link" onclick="switchTab('fi_ap')">应付账款 <span class="service-code">ap</span></a>
                        <a class="mega-link" onclick="switchTab('fi_ar')">应收账款 <span class="service-code">ar</span></a>
                        <a class="mega-link" onclick="switchTab('fi_co')">成本控制 <span class="service-code">co</span></a>
                        <a class="mega-link" onclick="switchTab('fi_tr')">资金管理 <span class="service-code">tr</span></a>
                    </div>
                </li>

                <!-- PM 采购管理 -->
                <li class="nav-item">
                    <div class="nav-link">PM 采购管理</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('pm_po')">采购订单 <span class="service-code">po</span></a>
                        <a class="mega-link" onclick="switchTab('pm_ct')">合同管理 <span class="service-code">ct</span></a>
                        <a class="mega-link" onclick="switchTab('pm_iv')">发票处理 <span class="service-code">iv</span></a>
                        <a class="mega-link" onclick="switchTab('pm_sp')">供应商门户 <span class="service-code">sp</span></a>
                        <a class="mega-link" onclick="switchTab('pm_sa')">支出分析 <span class="service-code">sa</span></a>
                        <a class="mega-link" onclick="switchTab('pm_se')">寻源事件 <span class="service-code">se</span></a>
                    </div>
                </li>

                <!-- MF 生产制造 -->
                <li class="nav-item">
                    <div class="nav-link">MF 生产制造</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('mf_pp')">生产计划 <span class="service-code">pp</span></a>
                        <a class="mega-link" onclick="switchTab('mf_sf')">车间执行 <span class="service-code">sf</span></a>
                        <a class="mega-link" onclick="switchTab('mf_qi')">质量检验 <span class="service-code">qi</span></a>
                        <a class="mega-link" onclick="switchTab('mf_kb')">看板中心 <span class="service-code">kb</span></a>
                        <a class="mega-link" onclick="switchTab('mf_om')">外协加工 <span class="service-code">om</span></a>
                    </div>
                </li>

                <!-- SC 供应链 -->
                <li class="nav-item">
                    <div class="nav-link">SC 供应链</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('sc_im')">库存管理 <span class="service-code">im</span></a>
                        <a class="mega-link" onclick="switchTab('sc_wm')">仓库运营 <span class="service-code">wm</span></a>
                        <a class="mega-link" onclick="switchTab('sc_tp')">运输计划 <span class="service-code">tp</span></a>
                        <a class="mega-link" onclick="switchTab('sc_df')">需求预测 <span class="service-code">df</span></a>
                        <a class="mega-link" onclick="switchTab('sc_vs')">可见性管理 <span class="service-code">vs</span></a>
                        <a class="mega-link" onclick="switchTab('sc_bt')">批次追溯 <span class="service-code">bt</span></a>
                    </div>
                </li>

                <!-- AM 资产管理 -->
                <li class="nav-item">
                    <div class="nav-link">AM 资产管理</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('am_pm')">设备维护 <span class="service-code">pm</span></a>
                        <a class="mega-link" onclick="switchTab('am_ah')">智能健康 <span class="service-code">ah</span></a>
                        <a class="mega-link" onclick="switchTab('am_eh')">EHS 事故 <span
                                class="service-code">eh</span></a>
                        <a class="mega-link" onclick="switchTab('am_gs')">GIS 地理位置 <span
                                class="service-code">gs</span></a>
                    </div>
                </li>

                <!-- SD 销售分销 -->
                <li class="nav-item">
                    <div class="nav-link">SD 销售分销</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('sd_so')">销售订单 <span class="service-code">so</span></a>
                        <a class="mega-link" onclick="switchTab('sd_pe')">定价引擎 <span class="service-code">pe</span></a>
                        <a class="mega-link" onclick="switchTab('sd_rr')">收入确认 <span class="service-code">rr</span></a>
                        <a class="mega-link" onclick="switchTab('sd_an')">销售分析 <span class="service-code">an</span></a>
                    </div>
                </li>

                <!-- CS 客户服务 -->
                <li class="nav-item">
                    <div class="nav-link">CS 客户服务</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('cs_fd')">现场调度 <span class="service-code">fd</span></a>
                        <a class="mega-link" onclick="switchTab('cs_cb')">合同计费 <span class="service-code">cb</span></a>
                        <a class="mega-link" onclick="switchTab('cs_wc')">保修索赔 <span class="service-code">wc</span></a>
                    </div>
                </li>

                <!-- RD 研发管理 -->
                <li class="nav-item">
                    <div class="nav-link">RD 研发管理</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('rd_pl')">PLM 集成 <span
                                class="service-code">pl</span></a>
                        <a class="mega-link" onclick="switchTab('rd_ps')">项目成本 <span class="service-code">ps</span></a>
                    </div>
                </li>

                <!-- HR 人力资源 -->
                <li class="nav-item">
                    <div class="nav-link">HR 人力资源</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('hr_ta')">人才招聘 <span class="service-code">ta</span></a>
                        <a class="mega-link" onclick="switchTab('hr_ex')">员工体验 <span class="service-code">ex</span></a>
                    </div>
                </li>

                <!-- IAM 身份权限 -->
                <li class="nav-item">
                    <div class="nav-link">IAM 身份权限</div>
                    <div class="mega-menu">
                        <a class="mega-link" onclick="switchTab('iam_auth')">统一认证 <span
                                class="service-code">auth</span></a>
                        <a class="mega-link" onclick="switchTab('iam_rbac')">权限控制 <span
                                class="service-code">rbac</span></a>
                        <a class="mega-link" onclick="switchTab('iam_oauth')">外部应用 <span
                                class="service-code">oauth</span></a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="nav-right">
            <!-- 主题切换按钮 -->
            <div class="theme-toggle" id="theme-toggle" onclick="toggleTheme()"></div>
            <div class="version-badge">v6.0 Build 2026.01.14</div>
        </div>
    </nav>

    <main class="main">
        <div class="view-header">
            <div>
                <div class="breadcrumb" id="breadcrumb">Home / Dashboard</div>
                <h1 class="page-title" id="page-title">Enterprise Digital Twin Overview</h1>
            </div>
            <div class="view-actions">
                <button type="button" class="btn-primary">Service Map v2</button>
            </div>
        </div>

        <div id="dynamic-content">
            <!-- Content here -->
        </div>
    </main>

    <script>
        const VIEWS = {
            overview: {
                title: '集团核心业务链路实时监控',
                breadcrumb: 'HOME / DASHBOARD / SYSTEM_TWIN',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">FI - 财务健康 (ROE)</div>
                            <div class="card-value">18.4%</div>
                            <div class="card-meta">↑ 2.1% YOY</div>
                            <div class="progress-bar" style="margin-top:8px">
                                <div class="progress-fill" style="width: 85%"></div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-label">MF - 设备综合效率 (OEE)</div>
                            <div class="card-value">84.2%</div>
                            <div class="card-meta">↑ 0.5% Peak</div>
                            <div class="progress-bar" style="margin-top:8px">
                                <div class="progress-fill" style="width: 92%"></div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-label">SC - 订单履约率 (OTIF)</div>
                            <div class="card-value">99.1%</div>
                            <div class="card-meta text-stable">Stable</div>
                            <div class="progress-bar" style="margin-top:8px">
                                <div class="progress-fill" style="width: 98%"></div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-label">HR - 核心人才流失率</div>
                            <div class="card-value">1.2%</div>
                            <div class="card-meta">↓ 0.4% Target</div>
                            <div class="progress-bar" style="margin-top:8px">
                                <div class="progress-fill" style="width: 15%"></div>
                            </div>
                        </div>
                    </div>

                    <div style="display:grid; grid-template-columns: 2fr 1fr; gap:24px">
                        <div class="card">
                            <div class="card-label">40 服务健康全景墙 (Service status based on Protos)</div>
                            <div class="service-health-grid" id="health-wall"></div>
                        </div>
                        <div class="card">
                            <div class="card-label">实时业务事件流 (Cross-Service Events)</div>
                            <div class="event-feed">
                                <div class="event-item"><span class="event-time">13:00:01</span><span class="event-source">sd.so</span><span>SalesOrderCreatedEvent #SO104</span></div>
                                <div class="event-item"><span class="event-time">13:00:03</span><span class="event-source">fi.co</span><span>BudgetAllocatedEvent #PRJ22</span></div>
                                <div class="event-item"><span class="event-time">13:00:15</span><span class="event-source">sc.im</span><span>StockReservedEvent #M-Chip22</span></div>
                                <div class="event-item"><span class="event-time">13:00:22</span><span class="event-source">mf.pp</span><span>ProductionOrderTriggeredEvent #WO55</span></div>
                            </div>
                        </div>
                    </div>

                    <div style="display:grid; grid-template-columns: 1fr 1fr; gap:24px">
                        <div class="card">
                            <div class="card-label">业务指标环形图</div>
                            <div style="display:flex;justify-content:space-around;padding:24px 0">
                                <div class="donut-chart">
                                    <svg>
                                        <circle class="donut-bg" cx="30" cy="30" r="25"></circle>
                                        <circle class="donut-fill" cx="30" cy="30" r="25" stroke-dasharray="157" stroke-dashoffset="23.55"></circle>
                                    </svg>
                                    <div class="donut-text">85%</div>
                                </div>
                                <div class="donut-chart">
                                    <svg>
                                        <circle class="donut-bg" cx="30" cy="30" r="25"></circle>
                                        <circle class="donut-fill" cx="30" cy="30" r="25" stroke-dasharray="157" stroke-dashoffset="12.56"></circle>
                                    </svg>
                                    <div class="donut-text">92%</div>
                                </div>
                                <div class="donut-chart">
                                    <svg>
                                        <circle class="donut-bg" cx="30" cy="30" r="25"></circle>
                                        <circle class="donut-fill" cx="30" cy="30" r="25" stroke-dasharray="157" stroke-dashoffset="3.14"></circle>
                                    </svg>
                                    <div class="donut-text">98%</div>
                                </div>
                                <div class="donut-chart">
                                    <svg>
                                        <circle class="donut-bg" cx="30" cy="30" r="25"></circle>
                                        <circle class="donut-fill" cx="30" cy="30" r="25" stroke-dasharray="157" stroke-dashoffset="133.45"></circle>
                                    </svg>
                                    <div class="donut-text">15%</div>
                                </div>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-label">月度销售趋势</div>
                            <div class="bar-chart">
                                <div class="bar-item" style="height:60%"><div class="bar-label">Jan</div></div>
                                <div class="bar-item" style="height:75%"><div class="bar-label">Feb</div></div>
                                <div class="bar-item" style="height:85%"><div class="bar-label">Mar</div></div>
                                <div class="bar-item" style="height:90%"><div class="bar-label">Apr</div></div>
                                <div class="bar-item" style="height:78%"><div class="bar-label">May</div></div>
                                <div class="bar-item" style="height:82%"><div class="bar-label">Jun</div></div>
                            </div>
                        </div>
                    </div>
                `
            },

            // --- FINANCE (FI) ---
            fi_gl: {
                title: '总分类账 (GL)',
                breadcrumb: 'FI / GL',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">总账余额</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">¥ 128.5M</div>
                            <div class="card-meta">↑ 8.2% MOM</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">未记账凭证</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">14</div>
                            <div class="card-meta" style="color:#f59e0b">需要处理</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">科目数量</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">2,456</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">期间状态</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">已过账</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                            <div class="card-label">最近凭证</div>
                            <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>凭证号</th>
                                    <th>日期</th>
                                    <th>摘要</th>
                                    <th>借方</th>
                                    <th>贷方</th>
                                    <th>状态</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GL-2026-001245</td>
                                    <td>2026-01-14</td>
                                    <td>办公用品采购</td>
                                    <td>¥ 12,500</td>
                                    <td>¥ 0</td>
                                    <td><span class="status-tag status-ok">已过账</span></td>
                                </tr>
                                <tr>
                                    <td>GL-2026-001244</td>
                                    <td>2026-01-14</td>
                                    <td>工资支付</td>
                                    <td>¥ 2,450,000</td>
                                    <td>¥ 0</td>
                                    <td><span class="status-tag status-ok">已过账</span></td>
                                </tr>
                                <tr>
                                    <td>GL-2026-001243</td>
                                    <td>2026-01-13</td>
                                    <td>销售收入</td>
                                    <td>¥ 0</td>
                                    <td>¥ 8,920,000</td>
                                    <td><span class="status-tag status-ok">已过账</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            fi_ap: {
                title: '应付账款 (AP)',
                breadcrumb: 'FI / AP',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">应付总额</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">¥ 24.5M</div>
                            <div class="card-meta">↑ 5.3% MOM</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">未付发票</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">128</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">逾期金额</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">¥ 1.2M</div>
                            <div class="card-meta" style="color:#ef4444">需要关注</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">平均付款周期</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="7"></circle><path d="M12 8v4l3 3"></path><line x1="11" y1="11" x2="16" y2="16"></line></svg>
                            </div>
                            <div class="card-value">28 天</div>
                            <div class="card-meta">Target: 30 天</div>
                        </div>
                    </div>
                    <div class="card">
                        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                            <div class="card-label">应付账款账龄分析</div>
                            <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                        </div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Vendor</th>
                                    <th>1-30 Days</th>
                                    <th>31-60 Days</th>
                                    <th>60+ Days</th>
                                    <th>总金额</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>AWS Inc.</td>
                                    <td>$4,200</td>
                                    <td>$0</td>
                                    <td>$0</td>
                                    <td>$4,200</td>
                                </tr>
                                <tr>
                                    <td>Office Depot</td>
                                    <td>$0</td>
                                    <td>$1,200</td>
                                    <td>$0</td>
                                    <td>$1,200</td>
                                </tr>
                                <tr>
                                    <td>Oracle Corp</td>
                                    <td>$0</td>
                                    <td>$0</td>
                                    <td>$5,800</td>
                                    <td>$5,800</td>
                                </tr>
                                <tr>
                                    <td>Microsoft</td>
                                    <td>$3,200</td>
                                    <td>$0</td>
                                    <td>$0</td>
                                    <td>$3,200</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            fi_ar: {
                title: '应收账款 (AR)',
                breadcrumb: 'FI / AR',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">应收总额</div>
                            <div class="card-value">¥ 36.8M</div>
                            <div class="card-meta">↓ 2.1% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">未收发票</div>
                            <div class="card-value">89</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">逾期金额</div>
                            <div class="card-value">¥ 4.2M</div>
                            <div class="card-meta" style="color:#ef4444">需要关注</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均收款周期</div>
                            <div class="card-value">42 天</div>
                            <div class="card-meta" style="color:#f59e0b">超过目标</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">客户应收账款</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Customer</th>
                                    <th>Invoice #</th>
                                    <th>Amount</th>
                                    <th>Due Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Tesla Corp</td>
                                    <td>INV-9921</td>
                                    <td>¥ 4,500,000</td>
                                    <td>2026-02-01</td>
                                    <td><span class="status-tag status-ok">未到期</span></td>
                                </tr>
                                <tr>
                                    <td>Apple Inc</td>
                                    <td>INV-9920</td>
                                    <td>¥ 2,800,000</td>
                                    <td>2026-01-10</td>
                                    <td><span class="status-tag status-warn">逾期</span></td>
                                </tr>
                                <tr>
                                    <td>Samsung</td>
                                    <td>INV-9919</td>
                                    <td>¥ 1,950,000</td>
                                    <td>2026-01-20</td>
                                    <td><span class="status-tag status-ok">未到期</span></td>
                                </tr>
                                <tr>
                                    <td>Google</td>
                                    <td>INV-9918</td>
                                    <td>¥ 3,200,000</td>
                                    <td>2026-01-05</td>
                                    <td><span class="status-tag status-warn">逾期</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            fi_co: {
                title: '成本控制 (CO)',
                breadcrumb: 'FI / CO',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">总成本</div>
                            <div class="card-value">¥ 89.2M</div>
                            <div class="card-meta">↑ 3.5% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">成本中心</div>
                            <div class="card-value">128</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">超预算中心</div>
                            <div class="card-value">8</div>
                            <div class="card-meta" style="color:#ef4444">需要关注</div>
                        </div>
                        <div class="card">
                            <div class="card-label">预算执行率</div>
                            <div class="card-value">78.5%</div>
                            <div class="card-meta">OK</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">成本中心分配</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Center</th>
                                    <th>Allocated</th>
                                    <th>Actual</th>
                                    <th>Variance</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>CC-RD-01</td>
                                    <td>¥ 1.2M</td>
                                    <td>¥ 1.15M</td>
                                    <td>-4.2%</td>
                                    <td><span class="status-tag status-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>CC-MF-02</td>
                                    <td>¥ 2.8M</td>
                                    <td>¥ 3.0M</td>
                                    <td>+7.1%</td>
                                    <td><span class="status-tag status-warn">超预算</span></td>
                                </tr>
                                <tr>
                                    <td>CC-SD-03</td>
                                    <td>¥ 1.5M</td>
                                    <td>¥ 1.4M</td>
                                    <td>-6.7%</td>
                                    <td><span class="status-tag status-ok">OK</span></td>
                                </tr>
                                <tr>
                                    <td>CC-ADM-04</td>
                                    <td>¥ 850K</td>
                                    <td>¥ 920K</td>
                                    <td>+8.2%</td>
                                    <td><span class="status-tag status-warn">超预算</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            fi_tr: {
                title: '资金管理 (TR)',
                breadcrumb: 'FI / TR',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">现金头寸</div>
                            <div class="card-value">$4.2B</div>
                            <div class="card-meta">↑ 2.1% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">短期投资</div>
                            <div class="card-value">$1.8B</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">贷款余额</div>
                            <div class="card-value">$2.5B</div>
                            <div class="card-meta">↓ 1.5% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">资金流动性</div>
                            <div class="card-value">优秀</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">流动性预测</div>
                        <div style="height:120px;background:linear-gradient(180deg,#6366f1 0%,#8b5cf6 50%,#1e293b 50%,#1e293b 100%)"></div>
                        <div style="display:flex;justify-content:space-between;margin-top:12px;font-size:11px;color:var(--text-muted)">
                            <span>当前</span>
                            <span>30天</span>
                            <span>60天</span>
                            <span>90天</span>
                        </div>
                    </div>
                `
            },

            // --- PROCUREMENT (PM) ---
            pm_po: {
                title: '采购订单 (PO)',
                breadcrumb: 'PM / PO',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">总订单金额</div>
                            <div class="card-value">¥ 56.8M</div>
                            <div class="card-meta">↑ 12.3% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">未完成订单</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">今日新订单</div>
                            <div class="card-value">8</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均交付周期</div>
                            <div class="card-value">14 天</div>
                            <div class="card-meta">Target: 12 天</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">采购订单管道</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>PO#</th>
                                    <th>Supplier</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>交付日期</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>PO-211</td>
                                    <td>Nvidia</td>
                                    <td>$1.2M</td>
                                    <td><span class="status-tag status-ok">已批准</span></td>
                                    <td>2026-01-20</td>
                                </tr>
                                <tr>
                                    <td>PO-210</td>
                                    <td>AMD</td>
                                    <td>$850K</td>
                                    <td><span class="status-tag status-ok">已批准</span></td>
                                    <td>2026-01-18</td>
                                </tr>
                                <tr>
                                    <td>PO-209</td>
                                    <td>TSMC</td>
                                    <td>$2.1M</td>
                                    <td><span class="status-tag status-warn">处理中</span></td>
                                    <td>2026-01-25</td>
                                </tr>
                                <tr>
                                    <td>PO-208</td>
                                    <td>Intel</td>
                                    <td>$950K</td>
                                    <td><span class="status-tag status-ok">已批准</span></td>
                                    <td>2026-01-16</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            pm_ct: {
                title: '合同管理 (CT)',
                breadcrumb: 'PM / CT',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">有效合同</div>
                            <div class="card-value">245</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">年度合同金额</div>
                            <div class="card-value">¥ 245M</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">即将到期</div>
                            <div class="card-value">12</div>
                            <div class="card-meta" style="color:#f59e0b">需要续签</div>
                        </div>
                        <div class="card">
                            <div class="card-label">合同履约率</div>
                            <div class="card-value">96.8%</div>
                            <div class="card-meta">↑ 2.1% YOY</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">有效合同列表</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Contract</th>
                                    <th>Supplier</th>
                                    <th>Valid To</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>CT-24-01</td>
                                    <td>Microsoft</td>
                                    <td>2028-12</td>
                                    <td>$5.2M/年</td>
                                    <td><span class="status-tag status-ok">ACTIVE</span></td>
                                </tr>
                                <tr>
                                    <td>CT-23-15</td>
                                    <td>Oracle</td>
                                    <td>2027-06</td>
                                    <td>$3.8M/年</td>
                                    <td><span class="status-tag status-ok">ACTIVE</span></td>
                                </tr>
                                <tr>
                                    <td>CT-23-22</td>
                                    <td>AWS</td>
                                    <td>2027-03</td>
                                    <td>$4.5M/年</td>
                                    <td><span class="status-tag status-ok">ACTIVE</span></td>
                                </tr>
                                <tr>
                                    <td>CT-22-45</td>
                                    <td>IBM</td>
                                    <td>2026-02</td>
                                    <td>$2.1M/年</td>
                                    <td><span class="status-tag status-warn">即将到期</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            pm_iv: {
                title: '发票处理 (IV)',
                breadcrumb: 'PM / IV',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">待处理发票</div>
                            <div class="card-value">67</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">匹配成功</div>
                            <div class="card-value">92.5%</div>
                            <div class="card-meta">↑ 1.8% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">匹配失败</div>
                            <div class="card-value">5</div>
                            <div class="card-meta" style="color:#ef4444">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均处理时间</div>
                            <div class="card-value">2.3 天</div>
                            <div class="card-meta">Target: 2 天</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">三方匹配结果</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Inv #</th>
                                    <th>PO #</th>
                                    <th>GR #</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Inv #992</td>
                                    <td>PO #211</td>
                                    <td>GR #882</td>
                                    <td>$1.2M</td>
                                    <td><span class="status-tag status-ok">MATCH</span></td>
                                </tr>
                                <tr>
                                    <td>Inv #991</td>
                                    <td>PO #210</td>
                                    <td>GR #881</td>
                                    <td>$850K</td>
                                    <td><span class="status-tag status-ok">MATCH</span></td>
                                </tr>
                                <tr>
                                    <td>Inv #990</td>
                                    <td>PO #209</td>
                                    <td>GR #880</td>
                                    <td>$2.1M</td>
                                    <td><span class="status-tag status-warn">数量不符</span></td>
                                </tr>
                                <tr>
                                    <td>Inv #989</td>
                                    <td>PO #208</td>
                                    <td>GR #879</td>
                                    <td>$950K</td>
                                    <td><span class="status-tag status-ok">MATCH</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            pm_sp: {
                title: '供应商门户 (SP)',
                breadcrumb: 'PM / SP',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">供应商数量</div>
                            <div class="card-value">345</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">A类供应商</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Top 13%</div>
                        </div>
                        <div class="card">
                            <div class="card-label">B类供应商</div>
                            <div class="card-value">120</div>
                            <div class="card-meta">Top 35%</div>
                        </div>
                        <div class="card">
                            <div class="card-label">C类供应商</div>
                            <div class="card-value">180</div>
                            <div class="card-meta">需要优化</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">供应商评分卡</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Supplier</th>
                                    <th>质量</th>
                                    <th>交付</th>
                                    <th>服务</th>
                                    <th>价格</th>
                                    <th>总分</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>AMD</td>
                                    <td>9.5</td>
                                    <td>9.2</td>
                                    <td>8.8</td>
                                    <td>8.5</td>
                                    <td>A+</td>
                                </tr>
                                <tr>
                                    <td>TSMC</td>
                                    <td>9.8</td>
                                    <td>9.0</td>
                                    <td>8.5</td>
                                    <td>7.8</td>
                                    <td>A-</td>
                                </tr>
                                <tr>
                                    <td>Intel</td>
                                    <td>8.7</td>
                                    <td>8.5</td>
                                    <td>8.2</td>
                                    <td>8.0</td>
                                    <td>B+</td>
                                </tr>
                                <tr>
                                    <td>Samsung</td>
                                    <td>9.0</td>
                                    <td>8.8</td>
                                    <td>8.5</td>
                                    <td>8.2</td>
                                    <td>A-</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            pm_sa: {
                title: '支出分析 (SA)',
                breadcrumb: 'PM / SA',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">总支出</div>
                            <div class="card-value">¥ 456.8M</div>
                            <div class="card-meta">↑ 8.5% YOY</div>
                        </div>
                        <div class="card">
                            <div class="card-label">IT支出</div>
                            <div class="card-value">¥ 182.7M</div>
                            <div class="card-meta">40%</div>
                        </div>
                        <div class="card">
                            <div class="card-label">原材料支出</div>
                            <div class="card-value">¥ 137.0M</div>
                            <div class="card-meta">30%</div>
                        </div>
                        <div class="card">
                            <div class="card-label">物流支出</div>
                            <div class="card-value">¥ 137.0M</div>
                            <div class="card-meta">30%</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">按类别支出</div>
                        <div style="height:150px;background:linear-gradient(135deg,#6366f1 40%,#a855f7 70%,#10b981 100%);border-radius:8px;margin:12px 0"></div>
                        <div style="display:flex;justify-content:space-around;font-size:11px;color:var(--text-muted)">
                            <div><div style="width:12px;height:12px;background:#6366f1;display:inline-block;margin-right:4px;border-radius:3px"></div>IT: 40%</div>
                            <div><div style="width:12px;height:12px;background:#a855f7;display:inline-block;margin-right:4px;border-radius:3px"></div>RawMat: 30%</div>
                            <div><div style="width:12px;height:12px;background:#10b981;display:inline-block;margin-right:4px;border-radius:3px"></div>Log: 30%</div>
                        </div>
                    </div>
                `
            },
            pm_se: {
                title: '寻源事件 (SE)',
                breadcrumb: 'PM / SE',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">活跃寻源事件</div>
                            <div class="card-value">18</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已完成事件</div>
                            <div class="card-value">142</div>
                            <div class="card-meta">2026年</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均节省率</div>
                            <div class="card-value">15.2%</div>
                            <div class="card-meta">↑ 2.1% YOY</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均投标数</div>
                            <div class="card-value">5.8</div>
                            <div class="card-meta">OK</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">寻源事件列表</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>RFP #</th>
                                    <th>Category</th>
                                    <th>Status</th>
                                    <th>Bids</th>
                                    <th>Est. Value</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>RFP #991</td>
                                    <td>Steel</td>
                                    <td><span class="status-tag status-ok">已完成</span></td>
                                    <td>4</td>
                                    <td>$5.2M</td>
                                </tr>
                                <tr>
                                    <td>RFP #992</td>
                                    <td>Electronics</td>
                                    <td><span class="status-tag status-warn">进行中</span></td>
                                    <td>6</td>
                                    <td>$8.5M</td>
                                </tr>
                                <tr>
                                    <td>RFP #993</td>
                                    <td>Logistics</td>
                                    <td><span class="status-tag status-warn">进行中</span></td>
                                    <td>3</td>
                                    <td>$3.8M</td>
                                </tr>
                                <tr>
                                    <td>RFP #994</td>
                                    <td>IT Services</td>
                                    <td><span class="status-tag status-ok">已完成</span></td>
                                    <td>5</td>
                                    <td>$4.5M</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },

            // --- MANUFACTURING (MF) ---
            mf_pp: {
                title: '生产计划 (PP)',
                breadcrumb: 'MF / PP',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">本月计划产量</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                            </div>
                            <div class="card-value">12,500 件</div>
                            <div class="card-meta">Target</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">已完成产量</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                            </div>
                            <div class="card-value">8,950 件</div>
                            <div class="card-meta">71.6% 完成</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">在制品数量</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                            </div>
                            <div class="card-value">1,240 件</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                                <div class="card-label">计划完成率</div>
                                <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
                            </div>
                            <div class="card-value">98.2%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
                            <div class="card-label">生产计划甘特图</div>
                            <svg width="16" height="16" fill="none" stroke="var(--accent-primary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                        </div>
                        <div style="margin:12px 0">
                            <div class="gantt-bar" style="width:60%;margin-bottom:12px">WO-101 Assembly <span style="float:right;font-size:8px;color:var(--text-muted)">2026-01-14 → 2026-01-18</span></div>
                            <div class="gantt-bar" style="width:40%;margin-left:60%;margin-bottom:12px;background:#10b981">WO-102 Test <span style="float:right;font-size:8px;color:var(--text-muted)">2026-01-19 → 2026-01-22</span></div>
                            <div class="gantt-bar" style="width:30%;background:#f59e0b">WO-103 Packaging <span style="float:right;font-size:8px;color:var(--text-muted)">2026-01-23 → 2026-01-25</span></div>
                        </div>
                    </div>
                `
            },
            mf_sf: {
                title: '车间执行 (SF)',
                breadcrumb: 'MF / SF',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">OEE (设备综合效率)</div>
                            <div class="card-value">84.2%</div>
                            <div class="card-meta">↑ 0.5% Peak</div>
                        </div>
                        <div class="card">
                            <div class="card-label">稼动率</div>
                            <div class="card-value">92.5%</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">良率</div>
                            <div class="card-value">96.8%</div>
                            <div class="card-meta">↑ 0.8% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">当前工单</div>
                            <div class="card-value">WO-101</div>
                            <div class="card-meta"><span class="status-tag status-ok">运行中</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">实时遥测数据</div>
                        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin:12px 0">
                            <div style="text-align:center">
                                <div class="progress-circle" style="margin:0 auto 8px">92%</div>
                                <div style="font-size:10px;color:var(--text-muted)">设备1</div>
                            </div>
                            <div style="text-align:center">
                                <div class="progress-circle" style="margin:0 auto 8px">88%</div>
                                <div style="font-size:10px;color:var(--text-muted)">设备2</div>
                            </div>
                            <div style="text-align:center">
                                <div class="progress-circle" style="margin:0 auto 8px">95%</div>
                                <div style="font-size:10px;color:var(--text-muted)">设备3</div>
                            </div>
                            <div style="text-align:center">
                                <div class="progress-circle" style="margin:0 auto 8px">90%</div>
                                <div style="font-size:10px;color:var(--text-muted)">设备4</div>
                            </div>
                        </div>
                    </div>
                `
            },
            mf_qi: {
                title: '质量检验 (QI)',
                breadcrumb: 'MF / QI',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">检验批次</div>
                            <div class="card-value">145</div>
                            <div class="card-meta">本月</div>
                        </div>
                        <div class="card">
                            <div class="card-label">合格批次</div>
                            <div class="card-value">142</div>
                            <div class="card-meta">97.9% 合格率</div>
                        </div>
                        <div class="card">
                            <div class="card-label">不合格批次</div>
                            <div class="card-value">3</div>
                            <div class="card-meta" style="color:#ef4444">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均检验时间</div>
                            <div class="card-value">45 分钟</div>
                            <div class="card-meta">OK</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">检验批次列表</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Lot #</th>
                                    <th>Product</th>
                                    <th>数量</th>
                                    <th>结果</th>
                                    <th>检验时间</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Lot #901</td>
                                    <td>Product X1</td>
                                    <td>1,200</td>
                                    <td><span class="status-tag status-ok">Pass</span></td>
                                    <td>2026-01-14 10:30</td>
                                </tr>
                                <tr>
                                    <td>Lot #900</td>
                                    <td>Product X2</td>
                                    <td>800</td>
                                    <td><span class="status-tag status-ok">Pass</span></td>
                                    <td>2026-01-14 09:15</td>
                                </tr>
                                <tr>
                                    <td>Lot #899</td>
                                    <td>Product Y1</td>
                                    <td>1,500</td>
                                    <td><span class="status-tag status-warn">返工</span></td>
                                    <td>2026-01-13 16:45</td>
                                </tr>
                                <tr>
                                    <td>Lot #898</td>
                                    <td>Product Z1</td>
                                    <td>2,000</td>
                                    <td><span class="status-tag status-ok">Pass</span></td>
                                    <td>2026-01-13 14:20</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            mf_kb: {
                title: '看板中心 (KB)',
                breadcrumb: 'MF / KB',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">活跃看板</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">待处理</div>
                            <div class="card-value">12</div>
                            <div class="card-meta">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">处理中</div>
                            <div class="card-value">20</div>
                            <div class="card-meta">In Progress</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已完成</div>
                            <div class="card-value">13</div>
                            <div class="card-meta">Completed</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">看板管理</div>
                        <div class="kanban-board" style="margin:12px 0">
                            <div class="kanban-col">
                                <h4>To Do</h4>
                                <div class="kanban-card">WO-99</div>
                                <div class="kanban-card">WO-98</div>
                                <div class="kanban-card">WO-97</div>
                            </div>
                            <div class="kanban-col">
                                <h4>In Prog</h4>
                                <div class="kanban-card">WO-88</div>
                                <div class="kanban-card">WO-87</div>
                            </div>
                            <div class="kanban-col">
                                <h4>Review</h4>
                                <div class="kanban-card">WO-77</div>
                                <div class="kanban-card">WO-76</div>
                            </div>
                            <div class="kanban-col">
                                <h4>Done</h4>
                                <div class="kanban-card">WO-66</div>
                                <div class="kanban-card">WO-65</div>
                            </div>
                        </div>
                    </div>
                `
            },
            mf_om: {
                title: '外协加工 (OM)',
                breadcrumb: 'MF / OM',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">外协供应商</div>
                            <div class="card-value">12</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">外协订单</div>
                            <div class="card-value">28</div>
                            <div class="card-meta">当前</div>
                        </div>
                        <div class="card">
                            <div class="card-label">逾期订单</div>
                            <div class="card-value">2</div>
                            <div class="card-meta" style="color:#ef4444">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均交付周期</div>
                            <div class="card-value">18 天</div>
                            <div class="card-meta">Target: 15 天</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">外协加工订单</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>WO #</th>
                                    <th>Vendor</th>
                                    <th>Product</th>
                                    <th>数量</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>WO-OM-001</td>
                                    <td>Foxconn</td>
                                    <td>Product X1</td>
                                    <td>5,000</td>
                                    <td><span class="status-tag status-ok">Processing</span></td>
                                </tr>
                                <tr>
                                    <td>WO-OM-002</td>
                                    <td>Flex</td>
                                    <td>Product X2</td>
                                    <td>3,000</td>
                                    <td><span class="status-tag status-ok">Processing</span></td>
                                </tr>
                                <tr>
                                    <td>WO-OM-003</td>
                                    <td>Jabil</td>
                                    <td>Product Y1</td>
                                    <td>2,500</td>
                                    <td><span class="status-tag status-warn">逾期</span></td>
                                </tr>
                                <tr>
                                    <td>WO-OM-004</td>
                                    <td>Pegatron</td>
                                    <td>Product Z1</td>
                                    <td>4,000</td>
                                    <td><span class="status-tag status-ok">Processing</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },

            // --- SUPPLY CHAIN (SC) ---
            sc_im: {
                title: '库存管理 (IM)',
                breadcrumb: 'SC / IM',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">总库存价值</div>
                            <div class="card-value">¥ 125.8M</div>
                            <div class="card-meta">↑ 3.2% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">SKU数量</div>
                            <div class="card-value">2,456</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">库存周转天数</div>
                            <div class="card-value">38.5 天</div>
                            <div class="card-meta">Target: 35 天</div>
                        </div>
                        <div class="card">
                            <div class="card-label">安全库存覆盖率</div>
                            <div class="card-value">92.5%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">库存概览</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Mat</th>
                                    <th>描述</th>
                                    <th>Qty</th>
                                    <th>Loc</th>
                                    <th>状态</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Chip X1</td>
                                    <td>高端芯片</td>
                                    <td>5,000</td>
                                    <td>WH-01</td>
                                    <td><span class="status-tag status-ok">正常</span></td>
                                </tr>
                                <tr>
                                    <td>Mat-002</td>
                                    <td>电阻器</td>
                                    <td>12,500</td>
                                    <td>WH-02</td>
                                    <td><span class="status-tag status-ok">正常</span></td>
                                </tr>
                                <tr>
                                    <td>Mat-003</td>
                                    <td>电容器</td>
                                    <td>8,900</td>
                                    <td>WH-01</td>
                                    <td><span class="status-tag status-warn">低于安全库存</span></td>
                                </tr>
                                <tr>
                                    <td>Mat-004</td>
                                    <td>集成电路</td>
                                    <td>3,200</td>
                                    <td>WH-03</td>
                                    <td><span class="status-tag status-ok">正常</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            sc_wm: {
                title: '仓库运营 (WM)',
                breadcrumb: 'SC / WM',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">仓库数量</div>
                            <div class="card-value">12</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均库存周转率</div>
                            <div class="card-value">9.2 次/年</div>
                            <div class="card-meta">↑ 0.8% YOY</div>
                        </div>
                        <div class="card">
                            <div class="card-label">今日订单数量</div>
                            <div class="card-value">145</div>
                            <div class="card-meta">Processing</div>
                        </div>
                        <div class="card">
                            <div class="card-label">准时发货率</div>
                            <div class="card-value">98.2%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">仓库地图</div>
                        <div style="height:200px;background:#1a202c;display:flex;align-items:center;justify-content:center;color:#6b7280;border-radius:8px">
                            <div style="text-align:center">
                                <div style="font-size:12px;margin-bottom:8px">Interactive 3D Grid</div>
                                <div style="font-size:10px;color:var(--text-muted)">WH-01: 78% 利用率<br>WH-02: 65% 利用率<br>WH-03: 82% 利用率</div>
                            </div>
                        </div>
                    </div>
                `
            },
            sc_tp: {
                title: '运输计划 (TP)',
                breadcrumb: 'SC / TP',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">总运输量</div>
                            <div class="card-value">2.8M kg</div>
                            <div class="card-meta">本月</div>
                        </div>
                        <div class="card">
                            <div class="card-label">运输成本</div>
                            <div class="card-value">¥ 8.5M</div>
                            <div class="card-meta">↑ 2.1% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">准时交付率</div>
                            <div class="card-value">96.8%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">在途 shipment</div>
                            <div class="card-value">23</div>
                            <div class="card-meta">Active</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">运输跟踪</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Shipment #</th>
                                    <th>From</th>
                                    <th>To</th>
                                    <th>Status</th>
                                    <th>ETA</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>SH-22</td>
                                    <td>上海</td>
                                    <td>深圳</td>
                                    <td><span class="status-tag status-warn">In Transit (Ocean)</span></td>
                                    <td>2026-01-20</td>
                                </tr>
                                <tr>
                                    <td>SH-21</td>
                                    <td>北京</td>
                                    <td>广州</td>
                                    <td><span class="status-tag status-ok">Delivered</span></td>
                                    <td>2026-01-14</td>
                                </tr>
                                <tr>
                                    <td>SH-20</td>
                                    <td>成都</td>
                                    <td>杭州</td>
                                    <td><span class="status-tag status-warn">In Transit (Air)</span></td>
                                    <td>2026-01-15</td>
                                </tr>
                                <tr>
                                    <td>SH-19</td>
                                    <td>武汉</td>
                                    <td>南京</td>
                                    <td><span class="status-tag status-ok">Delivered</span></td>
                                    <td>2026-01-13</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            sc_df: {
                title: '需求预测 (DF)',
                breadcrumb: 'SC / DF',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">预测准确率</div>
                            <div class="card-value">89.2%</div>
                            <div class="card-meta">↑ 3.5% YOY</div>
                        </div>
                        <div class="card">
                            <div class="card-label">预测周期</div>
                            <div class="card-value">12 周</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">SKU覆盖率</div>
                            <div class="card-value">95.8%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均偏差率</div>
                            <div class="card-value">10.8%</div>
                            <div class="card-meta">Target: 10%</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">AI 需求预测</div>
                        <div style="height:120px;background:linear-gradient(90deg,#6366f1 0%,#8b5cf6 100%);border-radius:8px;margin:12px 0;position:relative">
                            <div style="position:absolute;bottom:0;left:0;width:100%;height:1px;background:white;opacity:0.2"></div>
                            <div style="position:absolute;bottom:20%;left:0;width:100%;height:1px;background:white;opacity:0.2"></div>
                            <div style="position:absolute;bottom:40%;left:0;width:100%;height:1px;background:white;opacity:0.2"></div>
                            <div style="position:absolute;bottom:60%;left:0;width:100%;height:1px;background:white;opacity:0.2"></div>
                            <div style="position:absolute;bottom:80%;left:0;width:100%;height:1px;background:white;opacity:0.2"></div>
                            <div style="position:absolute;bottom:0;left:10%;width:2%;height:30%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:20%;width:2%;height:60%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:30%;width:2%;height:90%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:40%;width:2%;height:75%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:50%;width:2%;height:85%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:60%;width:2%;height:95%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:70%;width:2%;height:88%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:80%;width:2%;height:72%;background:white;border-radius:4px 4px 0 0"></div>
                            <div style="position:absolute;bottom:0;left:90%;width:2%;height:85%;background:white;border-radius:4px 4px 0 0"></div>
                        </div>
                        <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--text-muted)">
                            <span>W1</span>
                            <span>W2</span>
                            <span>W3</span>
                            <span>W4</span>
                            <span>W5</span>
                            <span>W6</span>
                            <span>W7</span>
                            <span>W8</span>
                            <span>W9</span>
                            <span>W10</span>
                        </div>
                    </div>
                `
            },
            sc_vs: {
                title: '可见性管理 (VS)',
                breadcrumb: 'SC / VS',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">风险评分</div>
                            <div class="card-value">Low (3.2/10)</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">网络状态</div>
                            <div class="card-value">Stable</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">异常事件</div>
                            <div class="card-value">2</div>
                            <div class="card-meta" style="color:#f59e0b">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">响应时间</div>
                            <div class="card-value">< 1s</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">供应链控制塔</div>
                        <div style="padding:12px;background:#1a202c;border-radius:8px">
                            <div style="display:flex;justify-content:space-between;margin-bottom:8px;font-size:11px">
                                <span>监控节点</span>
                                <span>状态</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>供应商交付</span>
                                <span><span class="status-tag status-ok">OK</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>生产进度</span>
                                <span><span class="status-tag status-ok">OK</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>库存水平</span>
                                <span><span class="status-tag status-warn">需要关注</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>运输状态</span>
                                <span><span class="status-tag status-ok">OK</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>客户交付</span>
                                <span><span class="status-tag status-ok">OK</span></span>
                            </div>
                        </div>
                    </div>
                `
            },
            sc_bt: {
                title: '批次追溯 (BT)',
                breadcrumb: 'SC / BT',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">批次数量</div>
                            <div class="card-value">12,456</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">追溯深度</div>
                            <div class="card-value">5 级</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均追溯时间</div>
                            <div class="card-value">< 2 分钟</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">合规率</div>
                            <div class="card-value">100%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">批次族谱</div>
                        <div style="padding:16px;background:#1a202c;border-radius:8px">
                            <div style="text-align:center;margin-bottom:16px">
                                <div style="font-size:12px;margin-bottom:4px">FG-88</div>
                                <div style="font-size:10px;color:var(--text-muted)">最终产品</div>
                            </div>
                            <div style="display:flex;justify-content:center;align-items:center;gap:16px;margin-bottom:16px">
                                <div style="text-align:center">
                                    <div style="font-size:11px;margin-bottom:2px">WO-99</div>
                                    <div style="font-size:9px;color:var(--text-muted)">生产工单</div>
                                </div>
                                <div style="width:20px;height:1px;background:var(--accent-primary)"></div>
                                <div style="text-align:center">
                                    <div style="font-size:11px;margin-bottom:2px">RM-01</div>
                                    <div style="font-size:9px;color:var(--text-muted)">原材料</div>
                                </div>
                            </div>
                            <div style="display:flex;justify-content:center;align-items:center;gap:16px">
                                <div style="text-align:center">
                                    <div style="font-size:11px;margin-bottom:2px">SUPP-001</div>
                                    <div style="font-size:9px;color:var(--text-muted)">供应商</div>
                                </div>
                                <div style="width:20px;height:1px;background:var(--accent-primary)"></div>
                                <div style="text-align:center">
                                    <div style="font-size:11px;margin-bottom:2px">LOT-001</div>
                                    <div style="font-size:9px;color:var(--text-muted)">原材料批次</div>
                                </div>
                                <div style="width:20px;height:1px;background:var(--accent-primary)"></div>
                                <div style="text-align:center">
                                    <div style="font-size:11px;margin-bottom:2px">WH-01</div>
                                    <div style="font-size:9px;color:var(--text-muted)">仓库</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `
            },

            // --- ASSET (AM) ---
            am_pm: {
                title: '设备维护 (PM)',
                breadcrumb: 'AM / PM',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">维护工单</div>
                            <div class="card-value">145</div>
                            <div class="card-meta">本月</div>
                        </div>
                        <div class="card">
                            <div class="card-label">待处理工单</div>
                            <div class="card-value">12</div>
                            <div class="card-meta" style="color:#f59e0b">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已完成工单</div>
                            <div class="card-value">133</div>
                            <div class="card-meta">91.7% 完成率</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均修复时间</div>
                            <div class="card-value">4.2 小时</div>
                            <div class="card-meta">Target: 4 小时</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">维护工单列表</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>WO #</th>
                                    <th>设备</th>
                                    <th>类型</th>
                                    <th>状态</th>
                                    <th>Due Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>WO-AM-001</td>
                                    <td>Machine 1</td>
                                    <td>Belt Repair</td>
                                    <td><span class="status-tag status-warn">Pending</span></td>
                                    <td>2026-01-15</td>
                                </tr>
                                <tr>
                                    <td>WO-AM-002</td>
                                    <td>Machine 2</td>
                                    <td>Oil Change</td>
                                    <td><span class="status-tag status-ok">Completed</span></td>
                                    <td>2026-01-14</td>
                                </tr>
                                <tr>
                                    <td>WO-AM-003</td>
                                    <td>Machine 3</td>
                                    <td>Filter Replacement</td>
                                    <td><span class="status-tag status-ok">Completed</span></td>
                                    <td>2026-01-13</td>
                                </tr>
                                <tr>
                                    <td>WO-AM-004</td>
                                    <td>Machine 4</td>
                                    <td>Calibration</td>
                                    <td><span class="status-tag status-warn">Pending</span></td>
                                    <td>2026-01-16</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            am_ah: {
                title: '智能健康 (AH)',
                breadcrumb: 'AM / AH',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">IoT 设备数量</div>
                            <div class="card-value">245</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">正常设备</div>
                            <div class="card-value">242</div>
                            <div class="card-meta">98.8% 正常</div>
                        </div>
                        <div class="card">
                            <div class="card-label">异常设备</div>
                            <div class="card-value">3</div>
                            <div class="card-meta" style="color:#ef4444">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均温度</div>
                            <div class="card-value">45°C</div>
                            <div class="card-meta">Normal</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">IoT 健康监控</div>
                        <div style="padding:12px;background:#1a202c;border-radius:8px">
                            <div style="display:flex;justify-content:space-between;margin-bottom:8px;font-size:11px">
                                <span>Sensor</span>
                                <span>温度</span>
                                <span>状态</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>Sensor #S1</span>
                                <span>45°C</span>
                                <span><span class="status-tag status-ok">Normal</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>Sensor #S2</span>
                                <span>47°C</span>
                                <span><span class="status-tag status-ok">Normal</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>Sensor #S3</span>
                                <span>52°C</span>
                                <span><span class="status-tag status-warn">High</span></span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>Sensor #S4</span>
                                <span>43°C</span>
                                <span><span class="status-tag status-ok">Normal</span></span>
                            </div>
                        </div>
                    </div>
                `
            },
            am_eh: {
                title: 'EHS 事故 (EH)',
                breadcrumb: 'AM / EH',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">事故数量</div>
                            <div class="card-value">0</div>
                            <div class="card-meta">过去 365 天</div>
                        </div>
                        <div class="card">
                            <div class="card-label">安全培训</div>
                            <div class="card-value">100%</div>
                            <div class="card-meta">员工覆盖率</div>
                        </div>
                        <div class="card">
                            <div class="card-label">安全检查</div>
                            <div class="card-value">12</div>
                            <div class="card-meta">本月完成</div>
                        </div>
                        <div class="card">
                            <div class="card-label">安全评分</div>
                            <div class="card-value">98.5/100</div>
                            <div class="card-meta"><span class="status-tag status-ok">Excellent</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">安全日志</div>
                        <div style="padding:12px;background:#1a202c;border-radius:8px">
                            <div style="font-size:11px;margin-bottom:8px">最近安全活动</div>
                            <div style="font-size:10px;color:var(--text-muted);margin-bottom:4px">2026-01-14: 安全检查完成 - 未发现问题</div>
                            <div style="font-size:10px;color:var(--text-muted);margin-bottom:4px">2026-01-10: 全员安全培训完成</div>
                            <div style="font-size:10px;color:var(--text-muted);margin-bottom:4px">2026-01-05: 消防演练完成</div>
                            <div style="font-size:10px;color:var(--text-muted)">2025-12-30: 年度安全审计完成 - 优秀</div>
                        </div>
                    </div>
                `
            },
            am_gs: {
                title: 'GIS 地理位置 (GS)',
                breadcrumb: 'AM / GS',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">资产数量</div>
                            <div class="card-value">1,245</div>
                            <div class="card-meta">已定位</div>
                        </div>
                        <div class="card">
                            <div class="card-label">区域数量</div>
                            <div class="card-value">28</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均距离</div>
                            <div class="card-value">12.5 km</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">定位精度</div>
                            <div class="card-value">< 5m</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">GIS 地图</div>
                        <div style="height:200px;background:#1a202c;display:flex;align-items:center;justify-content:center;color:#6b7280;border-radius:8px">
                            <div style="text-align:center">
                                <div style="font-size:12px;margin-bottom:8px">Interactive GIS Map</div>
                                <div style="font-size:10px;color:var(--text-muted)">Asset Location: Zone A, Lat 34.22°<br>Last Updated: 2026-01-14 13:00</div>
                            </div>
                        </div>
                    </div>
                `
            },

            // --- SALES (SD) ---
            sd_so: {
                title: '销售订单 (SO)',
                breadcrumb: 'SD / SO',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">总订单金额</div>
                            <div class="card-value">¥ 245.8M</div>
                            <div class="card-meta">↑ 12.3% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">未完成订单</div>
                            <div class="card-value">89</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">今日新订单</div>
                            <div class="card-value">15</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">准时交付率</div>
                            <div class="card-value">96.8%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">销售订单</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>SO#</th>
                                    <th>Client</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>交付日期</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>SO-551</td>
                                    <td>Target</td>
                                    <td>¥ 2.8M</td>
                                    <td><span class="status-tag status-ok">OPEN</span></td>
                                    <td>2026-01-20</td>
                                </tr>
                                <tr>
                                    <td>SO-550</td>
                                    <td>Tesla</td>
                                    <td>¥ 4.5M</td>
                                    <td><span class="status-tag status-ok">OPEN</span></td>
                                    <td>2026-01-25</td>
                                </tr>
                                <tr>
                                    <td>SO-549</td>
                                    <td>Apple</td>
                                    <td>¥ 3.2M</td>
                                    <td><span class="status-tag status-ok">已发货</span></td>
                                    <td>2026-01-14</td>
                                </tr>
                                <tr>
                                    <td>SO-548</td>
                                    <td>Samsung</td>
                                    <td>¥ 1.9M</td>
                                    <td><span class="status-tag status-ok">已完成</span></td>
                                    <td>2026-01-12</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            sd_pe: {
                title: '定价引擎 (PE)',
                breadcrumb: 'SD / PE',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">价格规则</div>
                            <div class="card-value">128</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">促销活动</div>
                            <div class="card-value">15</div>
                            <div class="card-meta">Running</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均折扣率</div>
                            <div class="card-value">8.5%</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">规则命中率</div>
                            <div class="card-value">98.2%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">有效价格规则</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Rule #</th>
                                    <th>Name</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Rule #1</td>
                                    <td>Volume Discount</td>
                                    <td>Discount</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                </tr>
                                <tr>
                                    <td>Rule #2</td>
                                    <td>New Customer Discount</td>
                                    <td>Discount</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                </tr>
                                <tr>
                                    <td>Rule #3</td>
                                    <td>Seasonal Promotion</td>
                                    <td>Promotion</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                </tr>
                                <tr>
                                    <td>Rule #4</td>
                                    <td>VIP Customer Pricing</td>
                                    <td>Pricing</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            sd_rr: {
                title: '收入确认 (RR)',
                breadcrumb: 'SD / RR',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">已确认收入</div>
                            <div class="card-value">¥ 500k</div>
                            <div class="card-meta">本月</div>
                        </div>
                        <div class="card">
                            <div class="card-label">递延收入</div>
                            <div class="card-value">¥ 200k</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">合同数量</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">合规率</div>
                            <div class="card-value">100%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">收入确认 (ASC 606)</div>
                        <div style="height:120px;background:linear-gradient(90deg,#6366f1 71.4%,#8b5cf6 0%);border-radius:8px;margin:12px 0;position:relative">
                            <div style="position:absolute;top:50%;left:35.7%;transform:translate(-50%,-50%);color:white;font-size:12px;font-weight:700">¥ 500k</div>
                            <div style="position:absolute;top:50%;left:85.7%;transform:translate(-50%,-50%);color:white;font-size:12px;font-weight:700">¥ 200k</div>
                        </div>
                        <div style="display:flex;justify-content:space-between;font-size:11px;color:var(--text-muted)">
                            <div><div style="width:12px;height:12px;background:#6366f1;display:inline-block;margin-right:4px;border-radius:3px"></div>已确认收入: 71.4%</div>
                            <div><div style="width:12px;height:12px;background:#8b5cf6;display:inline-block;margin-right:4px;border-radius:3px"></div>递延收入: 28.6%</div>
                        </div>
                    </div>
                `
            },
            sd_an: {
                title: '销售分析 (AN)',
                breadcrumb: 'SD / AN',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">Q4 展望</div>
                            <div class="card-value">Strong</div>
                            <div class="card-meta">$5M</div>
                        </div>
                        <div class="card">
                            <div class="card-label">赢单率</div>
                            <div class="card-value">38.5%</div>
                            <div class="card-meta">↑ 2.1% MOM</div>
                        </div>
                        <div class="card">
                            <div class="card-label">销售管道</div>
                            <div class="card-value">¥ 12.8M</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均销售周期</div>
                            <div class="card-value">28 天</div>
                            <div class="card-meta">Target: 25 天</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">销售分析</div>
                        <div style="padding:12px;background:#1a202c;border-radius:8px">
                            <div style="font-size:11px;margin-bottom:8px">销售趋势</div>
                            <div style="height:80px;background:linear-gradient(135deg,#6366f1 0%,#8b5cf6 100%);border-radius:4px;margin-bottom:8px;position:relative">
                                <div style="position:absolute;bottom:0;left:10%;width:2%;height:60%;background:white;opacity:0.6;border-radius:4px 4px 0 0"></div>
                                <div style="position:absolute;bottom:0;left:30%;width:2%;height:80%;background:white;opacity:0.6;border-radius:4px 4px 0 0"></div>
                                <div style="position:absolute;bottom:0;left:50%;width:2%;height:70%;background:white;opacity:0.6;border-radius:4px 4px 0 0"></div>
                                <div style="position:absolute;bottom:0;left:70%;width:2%;height:90%;background:white;opacity:0.6;border-radius:4px 4px 0 0"></div>
                                <div style="position:absolute;bottom:0;left:90%;width:2%;height:100%;background:white;opacity:0.6;border-radius:4px 4px 0 0"></div>
                            </div>
                            <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--text-muted)">
                                <span>Q1</span>
                                <span>Q2</span>
                                <span>Q3</span>
                                <span>Q4</span>
                            </div>
                        </div>
                    </div>
                `
            },

            // --- OTHERS (CS, RD, HR, IAM) ---
            cs_fd: {
                title: '现场调度 (FD)',
                breadcrumb: 'CS / FD',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">待处理工单</div>
                            <div class="card-value">12</div>
                            <div class="card-meta" style="color:#f59e0b">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">正在处理</div>
                            <div class="card-value">8</div>
                            <div class="card-meta">In Progress</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已完成</div>
                            <div class="card-value">145</div>
                            <div class="card-meta">本月</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均响应时间</div>
                            <div class="card-value">2.3 小时</div>
                            <div class="card-meta">Target: 2 小时</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">现场服务调度</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Tech #</th>
                                    <th>Job #</th>
                                    <th>Status</th>
                                    <th>ETA</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Tech #T1</td>
                                    <td>Job #J99</td>
                                    <td><span class="status-tag status-warn">En Route</span></td>
                                    <td>13:30</td>
                                </tr>
                                <tr>
                                    <td>Tech #T2</td>
                                    <td>Job #J98</td>
                                    <td><span class="status-tag status-ok">On Site</span></td>
                                    <td>14:00</td>
                                </tr>
                                <tr>
                                    <td>Tech #T3</td>
                                    <td>Job #J97</td>
                                    <td><span class="status-tag status-ok">Completed</span></td>
                                    <td>12:45</td>
                                </tr>
                                <tr>
                                    <td>Tech #T4</td>
                                    <td>Job #J96</td>
                                    <td><span class="status-tag status-warn">Pending</span></td>
                                    <td>15:00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            cs_cb: {
                title: '合同计费 (CB)',
                breadcrumb: 'CS / CB',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">活跃合同</div>
                            <div class="card-value">245</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">本月计费</div>
                            <div class="card-value">¥ 12.8M</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">计费周期</div>
                            <div class="card-value">Monthly</div>
                            <div class="card-meta">Next: 2026-02-01</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均计费时间</div>
                            <div class="card-value">< 24 小时</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">计费周期</div>
                        <div style="padding:12px;background:#1a202c;border-radius:8px">
                            <div style="font-size:11px;margin-bottom:8px">最近计费记录</div>
                            <div style="font-size:10px;color:var(--text-muted);margin-bottom:4px">2026-01-01: 计费完成 - ¥ 11.5M</div>
                            <div style="font-size:10px;color:var(--text-muted);margin-bottom:4px">2026-02-01: 下一计费周期</div>
                            <div style="font-size:10px;color:var(--text-muted)">2026-03-01: 预计计费 - ¥ 13.2M</div>
                        </div>
                    </div>
                `
            },
            cs_wc: {
                title: '保修索赔 (WC)',
                breadcrumb: 'CS / WC',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">索赔总数</div>
                            <div class="card-value">145</div>
                            <div class="card-meta">本月</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已批准</div>
                            <div class="card-value">132</div>
                            <div class="card-meta">91.0% 批准率</div>
                        </div>
                        <div class="card">
                            <div class="card-label">待处理</div>
                            <div class="card-value">8</div>
                            <div class="card-meta" style="color:#f59e0b">需要处理</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已拒绝</div>
                            <div class="card-value">5</div>
                            <div class="card-meta">3.4% 拒绝率</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">保修索赔</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Claim #</th>
                                    <th>Product</th>
                                    <th>Status</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Claim #C-99</td>
                                    <td>Product X1</td>
                                    <td><span class="status-tag status-ok">Approved</span></td>
                                    <td>¥ 2,800</td>
                                </tr>
                                <tr>
                                    <td>Claim #C-98</td>
                                    <td>Product X2</td>
                                    <td><span class="status-tag status-warn">Pending</span></td>
                                    <td>¥ 3,200</td>
                                </tr>
                                <tr>
                                    <td>Claim #C-97</td>
                                    <td>Product Y1</td>
                                    <td><span class="status-tag status-ok">Approved</span></td>
                                    <td>¥ 1,950</td>
                                </tr>
                                <tr>
                                    <td>Claim #C-96</td>
                                    <td>Product Z1</td>
                                    <td><span class="status-tag status-ok">Rejected</span></td>
                                    <td>¥ 4,500</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            rd_pl: {
                title: 'PLM 集成 (PL)',
                breadcrumb: 'RD / PL',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">部件数量</div>
                            <div class="card-value">12,456</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">BoM数量</div>
                            <div class="card-value">2,890</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">版本控制</div>
                            <div class="card-value">V2.0</div>
                            <div class="card-meta">Released</div>
                        </div>
                        <div class="card">
                            <div class="card-label">集成状态</div>
                            <div class="card-value">Active</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">PLM 部件管理</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Part #</th>
                                    <th>Version</th>
                                    <th>Status</th>
                                    <th>Released Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Part #P-1</td>
                                    <td>v2.0</td>
                                    <td><span class="status-tag status-ok">Released</span></td>
                                    <td>2026-01-10</td>
                                </tr>
                                <tr>
                                    <td>Part #P-2</td>
                                    <td>v1.5</td>
                                    <td><span class="status-tag status-ok">Released</span></td>
                                    <td>2025-12-15</td>
                                </tr>
                                <tr>
                                    <td>Part #P-3</td>
                                    <td>v3.0</td>
                                    <td><span class="status-tag status-warn">In Dev</span></td>
                                    <td>2026-02-01</td>
                                </tr>
                                <tr>
                                    <td>Part #P-4</td>
                                    <td>v1.0</td>
                                    <td><span class="status-tag status-ok">Released</span></td>
                                    <td>2025-11-20</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            rd_ps: {
                title: '项目成本 (PS)',
                breadcrumb: 'RD / PS',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">项目总数</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">总成本</div>
                            <div class="card-value">¥ 89.2M</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">已使用</div>
                            <div class="card-value">¥ 44.6M</div>
                            <div class="card-meta">50% Utilized</div>
                        </div>
                        <div class="card">
                            <div class="card-label">超预算项目</div>
                            <div class="card-value">2</div>
                            <div class="card-meta" style="color:#ef4444">需要处理</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">项目成本管理</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>Project</th>
                                    <th>Budget</th>
                                    <th>Used</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Project X</td>
                                    <td>¥ 10M</td>
                                    <td>¥ 5M</td>
                                    <td><span class="status-tag status-ok">50% Utilized</span></td>
                                </tr>
                                <tr>
                                    <td>Project Y</td>
                                    <td>¥ 8M</td>
                                    <td>¥ 6.5M</td>
                                    <td><span class="status-tag status-warn">81% Utilized</span></td>
                                </tr>
                                <tr>
                                    <td>Project Z</td>
                                    <td>¥ 12M</td>
                                    <td>¥ 4.8M</td>
                                    <td><span class="status-tag status-ok">40% Utilized</span></td>
                                </tr>
                                <tr>
                                    <td>Project A</td>
                                    <td>¥ 5M</td>
                                    <td>¥ 5.2M</td>
                                    <td><span class="status-tag status-ok">超预算</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            hr_ta: {
                title: '人才招聘 (TA)',
                breadcrumb: 'HR / TA',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">空缺职位</div>
                            <div class="card-value">12</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">申请人总数</div>
                            <div class="card-value">450</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均面试轮数</div>
                            <div class="card-value">3.2</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">offer 接受率</div>
                            <div class="card-value">85.2%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">人才招聘</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>职位</th>
                                    <th>部门</th>
                                    <th>申请人</th>
                                    <th>状态</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Software Engineer</td>
                                    <td>RD</td>
                                    <td>120</td>
                                    <td><span class="status-tag status-warn">Interviewing</span></td>
                                </tr>
                                <tr>
                                    <td>Project Manager</td>
                                    <td>PM</td>
                                    <td>85</td>
                                    <td><span class="status-tag status-warn">Screening</span></td>
                                </tr>
                                <tr>
                                    <td>Sales Representative</td>
                                    <td>SD</td>
                                    <td>150</td>
                                    <td><span class="status-tag status-ok">Offer</span></td>
                                </tr>
                                <tr>
                                    <td>HR Specialist</td>
                                    <td>HR</td>
                                    <td>95</td>
                                    <td><span class="status-tag status-ok">Closed</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            hr_ex: {
                title: '员工体验 (EX)',
                breadcrumb: 'HR / EX',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">eNPS Score</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Good</div>
                        </div>
                        <div class="card">
                            <div class="card-label">员工总数</div>
                            <div class="card-value">1,245</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">满意度</div>
                            <div class="card-value">8.2/10</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">流失率</div>
                            <div class="card-value">3.2%</div>
                            <div class="card-meta">↓ 0.8% YOY</div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">员工体验指标</div>
                        <div style="padding:12px;background:#1a202c;border-radius:8px">
                            <div style="display:flex;justify-content:space-between;margin-bottom:8px;font-size:11px">
                                <span>指标</span>
                                <span>分数</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>工作满意度</span>
                                <span>8.5/10</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>工作与生活平衡</span>
                                <span>7.8/10</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>职业发展</span>
                                <span>8.3/10</span>
                            </div>
                            <div style="display:flex;justify-content:space-between;margin-bottom:4px;font-size:10px">
                                <span>领导支持</span>
                                <span>8.1/10</span>
                            </div>
                        </div>
                    </div>
                `
            },
            iam_auth: {
                title: '统一认证',
                breadcrumb: 'IAM / AUTH',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">用户总数</div>
                            <div class="card-value">2,456</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">今日登录</div>
                            <div class="card-value">1,245</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">认证方式</div>
                            <div class="card-value">OIDC</div>
                            <div class="card-meta"><span class="status-tag status-ok">Active</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">登录成功率</div>
                            <div class="card-value">99.8%</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">认证日志</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Method</th>
                                    <th>Status</th>
                                    <th>Time</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>user@example.com</td>
                                    <td>OIDC</td>
                                    <td><span class="status-tag status-ok">Login success</span></td>
                                    <td>13:00:01</td>
                                </tr>
                                <tr>
                                    <td>admin@example.com</td>
                                    <td>OIDC</td>
                                    <td><span class="status-tag status-ok">Login success</span></td>
                                    <td>12:55:30</td>
                                </tr>
                                <tr>
                                    <td>test@example.com</td>
                                    <td>OIDC</td>
                                    <td><span class="status-tag status-ok">Login success</span></td>
                                    <td>12:45:15</td>
                                </tr>
                                <tr>
                                    <td>guest@example.com</td>
                                    <td>OIDC</td>
                                    <td><span class="status-tag status-ok">Login success</span></td>
                                    <td>12:30:45</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            iam_rbac: {
                title: '权限管理',
                breadcrumb: 'IAM / RBAC',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">角色总数</div>
                            <div class="card-value">45</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">用户角色分配</div>
                            <div class="card-value">2,456</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">权限总数</div>
                            <div class="card-value">1,245</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">审计状态</div>
                            <div class="card-value">Active</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">角色分配管理</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Last Updated</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Admin</td>
                                    <td>SuperUser</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                    <td>2026-01-10</td>
                                </tr>
                                <tr>
                                    <td>User1</td>
                                    <td>RegularUser</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                    <td>2026-01-05</td>
                                </tr>
                                <tr>
                                    <td>User2</td>
                                    <td>Manager</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                    <td>2025-12-20</td>
                                </tr>
                                <tr>
                                    <td>User3</td>
                                    <td>Viewer</td>
                                    <td><span class="status-tag status-ok">Active</span></td>
                                    <td>2025-12-15</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },
            iam_oauth: {
                title: '外部应用',
                breadcrumb: 'IAM / OAUTH',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">连接应用</div>
                            <div class="card-value">12</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">认证方式</div>
                            <div class="card-value">OAuth 2.0</div>
                            <div class="card-meta"><span class="status-tag status-ok">Active</span></div>
                        </div>
                        <div class="card">
                            <div class="card-label">访问令牌</div>
                            <div class="card-value">2,890</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">平均响应时间</div>
                            <div class="card-value">< 1s</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">OAuth 应用连接</div>
                        <table>
                            <thead>
                                <tr>
                                    <th>App</th>
                                    <th>Status</th>
                                    <th>Last Used</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Slack</td>
                                    <td><span class="status-tag status-ok">Connected</span></td>
                                    <td>13:00:01</td>
                                </tr>
                                <tr>
                                    <td>Salesforce</td>
                                    <td><span class="status-tag status-ok">Connected</span></td>
                                    <td>12:55:30</td>
                                </tr>
                                <tr>
                                    <td>Microsoft 365</td>
                                    <td><span class="status-tag status-ok">Connected</span></td>
                                    <td>12:45:15</td>
                                </tr>
                                <tr>
                                    <td>Google Workspace</td>
                                    <td><span class="status-tag status-ok">Connected</span></td>
                                    <td>12:30:45</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                `
            },

            events: {
                title: '全球大中台事件流',
                breadcrumb: 'SYSTEM / EVENTS',
                html: `
                    <div class="dashboard-grid">
                        <div class="card">
                            <div class="card-label">监听主题</div>
                            <div class="card-value">40</div>
                            <div class="card-meta">Active</div>
                        </div>
                        <div class="card">
                            <div class="card-label">事件总数</div>
                            <div class="card-value">12,456</div>
                            <div class="card-meta">今日</div>
                        </div>
                        <div class="card">
                            <div class="card-label">处理速度</div>
                            <div class="card-value">1,245 / sec</div>
                            <div class="card-meta">OK</div>
                        </div>
                        <div class="card">
                            <div class="card-label">状态</div>
                            <div class="card-value">Active</div>
                            <div class="card-meta"><span class="status-tag status-ok">OK</span></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-label">全球大中台事件流</div>
                        <div class="event-feed" style="max-height:200px;overflow-y:auto;padding-right:8px">
                            <div class="event-item"><span class="event-time">13:00:01</span><span class="event-source">sd.so</span><span>SalesOrderCreatedEvent #SO104</span></div>
                            <div class="event-item"><span class="event-time">13:00:03</span><span class="event-source">fi.co</span><span>BudgetAllocatedEvent #PRJ22</span></div>
                            <div class="event-item"><span class="event-time">13:00:15</span><span class="event-source">sc.im</span><span>StockReservedEvent #M-Chip22</span></div>
                            <div class="event-item"><span class="event-time">13:00:22</span><span class="event-source">mf.pp</span><span>ProductionOrderTriggeredEvent #WO55</span></div>
                            <div class="event-item"><span class="event-time">13:00:30</span><span class="event-source">pm.po</span><span>PurchaseOrderCreatedEvent #PO212</span></div>
                            <div class="event-item"><span class="event-time">13:00:35</span><span class="event-source">am.pm</span><span>WorkOrderCreatedEvent #WO-AM-005</span></div>
                            <div class="event-item"><span class="event-time">13:00:40</span><span class="event-source">cs.wc</span><span>WarrantyClaimSubmittedEvent #C-100</span></div>
                            <div class="event-item"><span class="event-time">13:00:45</span><span class="event-source">rd.pl</span><span>PartReleasedEvent #P-1 v2.1</span></div>
                        </div>
                    </div>
                `
            }
        };

        function switchTab(id) {
            const container = document.getElementById('dynamic-content');
            const data = VIEWS[id] || { title: `Module: ${id}`, breadcrumb: 'AUTO / MAPPED', html: `<div class="card"><h3>Microservice Ready (Stub)</h3><p>Service defined in Proto path: ${id}.proto</p></div>` };

            container.style.opacity = '0';
            setTimeout(() => {
                document.getElementById('page-title').innerText = data.title;
                document.getElementById('breadcrumb').innerText = data.breadcrumb;
                container.innerHTML = data.html;
                container.style.opacity = '1';

                // Health Wall Init if overview
                if (id === 'overview') buildHealthWall();

                // Navbar highlight
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                const findInMega = Array.from(document.querySelectorAll('.mega-link')).find(m => m.getAttribute('onclick')?.includes(`'${id}'`));
                if (findInMega) findInMega.closest('.nav-item').querySelector('.nav-link').classList.add('active');
            }, 100);
        }

        function buildHealthWall() {
            const wall = document.getElementById('health-wall');
            if (!wall) return;

            // Clear existing content
            wall.innerHTML = '';

            const codes = ['fi_gl', 'fi_ap', 'fi_ar', 'fi_co', 'fi_tr', 'pm_po', 'pm_ct', 'pm_iv', 'pm_sp', 'pm_sa', 'pm_se', 'mf_pp', 'mf_sf', 'mf_qi', 'mf_kb', 'mf_om', 'sc_im', 'sc_wm', 'sc_tp', 'sc_df', 'sc_vs', 'sc_bt', 'am_pm', 'am_ah', 'am_eh', 'am_gs', 'sd_so', 'sd_pe', 'sd_rr', 'sd_an', 'cs_fd', 'cs_cb', 'cs_wc', 'rd_pl', 'rd_ps', 'hr_ta', 'hr_ex', 'iam_auth', 'iam_rbac', 'iam_oauth'];

            codes.forEach(c => {
                updateServiceDot(wall, c);
            });
        }

        function updateServiceDot(container, serviceCode) {
            // Check if dot already exists
            let dot = container.querySelector(`[data-service="${serviceCode}"]`);

            // Create dot if it doesn't exist
            if (!dot) {
                dot = document.createElement('div');
                dot.className = 'health-dot';
                dot.dataset.service = serviceCode;
                dot.onclick = () => switchTab(serviceCode);
                container.appendChild(dot);
            }

            // Generate random status (95% OK, 5% Error)
            const isOk = Math.random() > 0.05;
            const status = isOk ? 'OK' : 'ERROR';
            const color = isOk ? '#10b981' : '#ef4444';

            // Update dot
            dot.style.background = color;
            dot.innerHTML = `<div class="health-tooltip">Service: ${serviceCode.toUpperCase()} | ${status}</div>`;
        }

        // Add dynamic update functionality
        let healthUpdateInterval = null;

        function startHealthUpdates() {
            // Update every 5 seconds
            healthUpdateInterval = setInterval(() => {
                const wall = document.getElementById('health-wall');
                if (wall) {
                    const codes = ['fi_gl', 'fi_ap', 'fi_ar', 'fi_co', 'fi_tr', 'pm_po', 'pm_ct', 'pm_iv', 'pm_sp', 'pm_sa', 'pm_se', 'mf_pp', 'mf_sf', 'mf_qi', 'mf_kb', 'mf_om', 'sc_im', 'sc_wm', 'sc_tp', 'sc_df', 'sc_vs', 'sc_bt', 'am_pm', 'am_ah', 'am_eh', 'am_gs', 'sd_so', 'sd_pe', 'sd_rr', 'sd_an', 'cs_fd', 'cs_cb', 'cs_wc', 'rd_pl', 'rd_ps', 'hr_ta', 'hr_ex', 'iam_auth', 'iam_rbac', 'iam_oauth'];
                    codes.forEach(c => {
                        updateServiceDot(wall, c);
                    });
                }
            }, 5000);
        }

        function stopHealthUpdates() {
            if (healthUpdateInterval) {
                clearInterval(healthUpdateInterval);
                healthUpdateInterval = null;
            }
        }

        // Table Sorting Function
        function sortTable(table, column, direction = 'asc') {
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));

            // Sort rows based on column content
            rows.sort((a, b) => {
                const aVal = a.cells[column].textContent.trim();
                const bVal = b.cells[column].textContent.trim();

                // Handle numeric values
                const aNum = parseFloat(aVal.replace(/[^\d.-]/g, ''));
                const bNum = parseFloat(bVal.replace(/[^\d.-]/g, ''));

                if (!isNaN(aNum) && !isNaN(bNum)) {
                    return direction === 'asc' ? aNum - bNum : bNum - aNum;
                }

                // Handle string values
                return direction === 'asc'
                    ? aVal.localeCompare(bVal)
                    : bVal.localeCompare(aVal);
            });

            // Remove existing rows and append sorted rows
            rows.forEach(row => tbody.appendChild(row));

            // Update header styles
            table.querySelectorAll('th').forEach(th => {
                th.classList.remove('sort-asc', 'sort-desc');
            });

            const header = table.querySelectorAll('th')[column];
            header.classList.add(`sort-${direction}`);
        }

        // Table Search Function
        function searchTable(table, searchTerm) {
            const rows = table.querySelectorAll('tbody tr');
            let visibleCount = 0;

            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                let match = false;

                cells.forEach(cell => {
                    if (cell.textContent.toLowerCase().includes(searchTerm.toLowerCase())) {
                        match = true;
                    }
                });

                if (match) {
                    row.style.display = '';
                    visibleCount++;
                } else {
                    row.style.display = 'none';
                }
            });

            // Update row count if there's a summary element
            const summary = table.parentNode.querySelector('.search-summary');
            if (summary) {
                summary.textContent = `${visibleCount} of ${rows.length} records visible`;
            }
        }

        // Initialize table sorting and searching
        function initTableSorting() {
            const tables = document.querySelectorAll('table');
            tables.forEach(table => {
                // Add search functionality
                const tableContainer = table.parentNode;

                // Create search container if it doesn't exist
                let searchContainer = tableContainer.querySelector('.search-container');
                if (!searchContainer) {
                    searchContainer = document.createElement('div');
                    searchContainer.className = 'search-container';

                    // Create search input
                    const searchInput = document.createElement('input');
                    searchInput.type = 'text';
                    searchInput.className = 'search-input';
                    searchInput.placeholder = 'Search table...';

                    // Create search summary
                    const searchSummary = document.createElement('div');
                    searchSummary.className = 'search-summary';
                    searchSummary.style.fontSize = '10px';
                    searchSummary.style.color = 'var(--text-muted)';
                    searchSummary.style.marginTop = '4px';
                    searchSummary.textContent = `${table.querySelectorAll('tbody tr').length} records`;

                    // Add search event listener
                    searchInput.addEventListener('input', (e) => {
                        searchTable(table, e.target.value);
                    });

                    // Append to container
                    searchContainer.appendChild(searchInput);
                    searchContainer.appendChild(searchSummary);

                    // Insert before table
                    tableContainer.insertBefore(searchContainer, table);
                }

                // Add sorting functionality
                const headers = table.querySelectorAll('th');
                headers.forEach((header, index) => {
                    header.classList.add('sortable');
                    header.addEventListener('click', () => {
                        // Determine current sort direction
                        const isAsc = header.classList.contains('sort-asc');
                        const direction = isAsc ? 'desc' : 'asc';
                        sortTable(table, index, direction);
                    });
                });
            });
        }

        // Modal Functions
        function openModal(modalId) {
            const modalOverlay = document.getElementById(modalId);
            if (modalOverlay) {
                modalOverlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modalId) {
            const modalOverlay = document.getElementById(modalId);
            if (modalOverlay) {
                modalOverlay.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        // Initialize modals
        function initModals() {
            // Create default modal structure if it doesn't exist
            if (!document.getElementById('default-modal')) {
                const modal = document.createElement('div');
                modal.id = 'default-modal';
                modal.className = 'modal-overlay';
                modal.innerHTML = `
                    <div class="modal">
                        <div class="modal-header">
                            <h2 class="modal-title" id="modal-title">Modal Title</h2>
                            <button type="button" class="modal-close" onclick="closeModal('default-modal')">&times;</button>
                        </div>
                        <div class="modal-content" id="modal-content">
                            <p>Modal content will be loaded here.</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" onclick="closeModal('default-modal')">Cancel</button>
                            <button type="button" class="btn btn-primary" onclick="closeModal('default-modal')">OK</button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            }

            // Add click outside to close functionality
            document.querySelectorAll('.modal-overlay').forEach(overlay => {
                overlay.addEventListener('click', (e) => {
                    if (e.target === overlay) {
                        closeModal(overlay.id);
                    }
                });
            });

            // Add escape key to close functionality
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    const activeModal = document.querySelector('.modal-overlay.active');
                    if (activeModal) {
                        closeModal(activeModal.id);
                    }
                }
            });
        }

        // Dropdown Functions
        function toggleDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            if (dropdown) {
                dropdown.classList.toggle('active');
            }
        }

        function openDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            if (dropdown) {
                dropdown.classList.add('active');
            }
        }

        function closeDropdown(dropdownId) {
            const dropdown = document.getElementById(dropdownId);
            if (dropdown) {
                dropdown.classList.remove('active');
            }
        }

        // Initialize dropdowns
        function initDropdowns() {
            // Add click outside to close functionality
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.dropdown')) {
                    document.querySelectorAll('.dropdown.active').forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });

            // Add escape key to close functionality
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    document.querySelectorAll('.dropdown.active').forEach(dropdown => {
                        dropdown.classList.remove('active');
                    });
                }
            });

            // Initialize toggle functionality for dropdown toggles
            document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
                toggle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const dropdown = toggle.closest('.dropdown');
                    if (dropdown) {
                        dropdown.classList.toggle('active');
                    }
                });
            });
        }

        // Loading State Functions
        function showLoader(loaderId = 'page-loader') {
            let loader = document.getElementById(loaderId);
            if (!loader) {
                // Create default loader if it doesn't exist
                loader = document.createElement('div');
                loader.id = loaderId;
                loader.className = 'loader-overlay';
                loader.innerHTML = '<div class="spinner"></div>';
                document.body.appendChild(loader);
            }
            loader.classList.add('active');
        }

        function hideLoader(loaderId = 'page-loader') {
            const loader = document.getElementById(loaderId);
            if (loader) {
                loader.classList.remove('active');
            }
        }

        // Show/hide button loading state
        function setButtonLoading(button, isLoading) {
            if (isLoading) {
                button.classList.add('loading');
                button.disabled = true;
            } else {
                button.classList.remove('loading');
                button.disabled = false;
            }
        }

        // Initialize loading states
        function initLoadingStates() {
            // Add loading state to buttons with data-loading attribute
            document.querySelectorAll('[data-loading]').forEach(button => {
                button.addEventListener('click', () => {
                    setButtonLoading(button, true);
                    // Simulate loading completion
                    setTimeout(() => {
                        setButtonLoading(button, false);
                    }, 1500);
                });
            });
        }

        // --- Date Picker Functions --- 
        class DatePicker {
            constructor(container) {
                this.container = container;
                this.input = container.querySelector('.date-picker-input');
                this.calendar = container.querySelector('.date-picker-calendar');
                this.currentDate = new Date();
                this.selectedDate = null;
                this.rangeStart = null;
                this.rangeEnd = null;
                this.mode = 'day'; // day, month, year
                this.init();
            }

            init() {
                // Initialize calendar
                this.renderCalendar();

                // Add event listeners
                this.input.addEventListener('click', () => {
                    this.toggleCalendar();
                });

                // Click outside to close
                document.addEventListener('click', (e) => {
                    if (!this.container.contains(e.target)) {
                        this.closeCalendar();
                    }
                });
            }

            renderCalendar() {
                // Clear existing content
                this.calendar.innerHTML = '';

                // Create header
                const header = document.createElement('div');
                header.className = 'calendar-header';

                // Navigation buttons
                const prevBtn = document.createElement('button');
                prevBtn.className = 'calendar-nav';
                prevBtn.innerHTML = '&lt;';
                prevBtn.addEventListener('click', () => this.prevMonth());

                const nextBtn = document.createElement('button');
                nextBtn.className = 'calendar-nav';
                nextBtn.innerHTML = '&gt;';
                nextBtn.addEventListener('click', () => this.nextMonth());

                // Month display
                const monthDisplay = document.createElement('div');
                monthDisplay.className = 'calendar-month';
                monthDisplay.textContent = this.formatMonthYear(this.currentDate);

                header.appendChild(prevBtn);
                header.appendChild(monthDisplay);
                header.appendChild(nextBtn);
                this.calendar.appendChild(header);

                // Create grid
                const grid = document.createElement('div');
                grid.className = 'calendar-grid';

                // Add day headers
                const days = ['日', '一', '二', '三', '四', '五', '六'];
                days.forEach(day => {
                    const dayEl = document.createElement('div');
                    dayEl.className = 'calendar-day';
                    dayEl.textContent = day;
                    grid.appendChild(dayEl);
                });

                // Add dates
                const month = this.currentDate.getMonth();
                const year = this.currentDate.getFullYear();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const startDate = new Date(firstDay);
                startDate.setDate(startDate.getDate() - firstDay.getDay());

                for (let i = 0; i < 42; i++) {
                    const date = new Date(startDate);
                    date.setDate(startDate.getDate() + i);

                    const dateEl = document.createElement('div');
                    dateEl.className = 'calendar-date';
                    dateEl.textContent = date.getDate();

                    // Add classes based on date
                    if (date.getMonth() !== month) {
                        dateEl.classList.add('disabled');
                    }

                    if (this.isToday(date)) {
                        dateEl.classList.add('today');
                    }

                    if (this.selectedDate && this.isSameDate(date, this.selectedDate)) {
                        dateEl.classList.add('selected');
                    }

                    // Add click event
                    dateEl.addEventListener('click', () => this.selectDate(date));

                    grid.appendChild(dateEl);
                }

                this.calendar.appendChild(grid);

                // Create footer
                const footer = document.createElement('div');
                footer.className = 'calendar-footer';

                // Mode buttons
                const modeContainer = document.createElement('div');
                modeContainer.className = 'calendar-mode';

                const dayBtn = this.createModeButton('日', 'day');
                const monthBtn = this.createModeButton('月', 'month');
                const yearBtn = this.createModeButton('年', 'year');

                modeContainer.appendChild(dayBtn);
                modeContainer.appendChild(monthBtn);
                modeContainer.appendChild(yearBtn);

                // Action buttons
                const btnContainer = document.createElement('div');
                btnContainer.className = 'calendar-buttons';

                const todayBtn = document.createElement('button');
                todayBtn.className = 'btn btn-secondary';
                todayBtn.textContent = '今天';
                todayBtn.addEventListener('click', () => this.selectToday());

                const clearBtn = document.createElement('button');
                clearBtn.className = 'btn btn-secondary';
                clearBtn.textContent = '清除';
                clearBtn.addEventListener('click', () => this.clearSelection());

                btnContainer.appendChild(todayBtn);
                btnContainer.appendChild(clearBtn);

                footer.appendChild(modeContainer);
                footer.appendChild(btnContainer);
                this.calendar.appendChild(footer);
            }

            createModeButton(text, mode) {
                const btn = document.createElement('button');
                btn.className = `mode-btn ${this.mode === mode ? 'active' : ''}`;
                btn.textContent = text;
                btn.addEventListener('click', () => {
                    this.mode = mode;
                    this.renderCalendar();
                });
                return btn;
            }

            prevMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() - 1);
                this.renderCalendar();
            }

            nextMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() + 1);
                this.renderCalendar();
            }

            selectDate(date) {
                this.selectedDate = date;
                this.input.value = this.formatDate(date);
                this.renderCalendar();
                this.closeCalendar();
            }

            selectToday() {
                const today = new Date();
                this.selectDate(today);
            }

            clearSelection() {
                this.selectedDate = null;
                this.input.value = '';
                this.renderCalendar();
            }

            toggleCalendar() {
                this.container.classList.toggle('active');
            }

            closeCalendar() {
                this.container.classList.remove('active');
            }

            // Helper functions
            isToday(date) {
                const today = new Date();
                return this.isSameDate(date, today);
            }

            isSameDate(date1, date2) {
                return date1.getDate() === date2.getDate() &&
                    date1.getMonth() === date2.getMonth() &&
                    date1.getFullYear() === date2.getFullYear();
            }

            formatDate(date) {
                return date.toLocaleDateString('zh-CN');
            }

            formatMonthYear(date) {
                return date.toLocaleDateString('zh-CN', { year: 'numeric', month: 'long' });
            }
        }

        // --- Filter Panel Functions --- 
        function toggleFilterPanel(panelId = 'filter-panel') {
            const panel = document.getElementById(panelId);
            if (panel) {
                panel.classList.toggle('collapsed');
            }
        }

        function applyFilters(panelId = 'filter-panel') {
            const panel = document.getElementById(panelId);
            if (!panel) return;

            // Get all filter inputs
            const filters = {
                search: panel.querySelector('#filter-search')?.value || '',
                status: panel.querySelector('#filter-status')?.value || '',
                dateRange: {
                    start: panel.querySelector('#filter-date-start')?.value || '',
                    end: panel.querySelector('#filter-date-end')?.value || ''
                },
                category: panel.querySelector('#filter-category')?.value || ''
            };

            // Log filters for demo purposes
            console.log('应用筛选条件:', filters);

            // Show loading state
            const applyBtn = panel.querySelector('.btn-primary');
            if (applyBtn) {
                setButtonLoading(applyBtn, true);
            }

            // Simulate filtering process
            setTimeout(() => {
                // Hide loading state
                if (applyBtn) {
                    setButtonLoading(applyBtn, false);
                }

                // Show success message (demo)
                alert('筛选条件已应用！');
            }, 1000);
        }

        function resetFilters(panelId = 'filter-panel') {
            const panel = document.getElementById(panelId);
            if (!panel) return;

            // Reset all filter inputs
            panel.querySelectorAll('input, select').forEach(input => {
                input.value = '';
            });

            // Log reset for demo purposes
            console.log('筛选条件已重置');

            // Show success message (demo)
            alert('筛选条件已重置！');
        }

        // Initialize filter panels
        function initFilterPanels() {
            // Create a demo filter panel if none exist
            if (document.querySelectorAll('.filter-panel').length === 0) {
                const demoPanel = document.createElement('div');
                demoPanel.id = 'filter-panel';
                demoPanel.className = 'filter-panel';
                demoPanel.innerHTML = `
                    <div class="filter-header">
                        <div class="filter-title">筛选条件</div>
                        <button type="button" class="filter-toggle" onclick="toggleFilterPanel('filter-panel')">
                            ▼
                        </button>
                    </div>
                    <div class="filter-content">
                        <div class="filter-row">
                            <label class="filter-label">搜索关键词</label>
                            <input type="text" id="filter-search" class="filter-input" placeholder="输入搜索关键词">
                        </div>
                        <div class="filter-row">
                            <label class="filter-label">状态</label>
                            <select id="filter-status" class="filter-select">
                                <option value="">全部状态</option>
                                <option value="active">活跃</option>
                                <option value="pending">待处理</option>
                                <option value="completed">已完成</option>
                                <option value="error">错误</option>
                            </select>
                        </div>
                        <div class="filter-row">
                            <label class="filter-label">日期范围</label>
                            <div class="filter-range">
                                <input type="date" id="filter-date-start" class="filter-input">
                                <input type="date" id="filter-date-end" class="filter-input">
                            </div>
                        </div>
                        <div class="filter-row">
                            <label class="filter-label">分类</label>
                            <select id="filter-category" class="filter-select">
                                <option value="">全部分类</option>
                                <option value="finance">财务</option>
                                <option value="procurement">采购</option>
                                <option value="manufacturing">生产</option>
                                <option value="supply-chain">供应链</option>
                                <option value="asset">资产</option>
                                <option value="sales">销售</option>
                            </select>
                        </div>
                    </div>
                    <div class="filter-actions">
                        <button type="button" class="btn btn-secondary filter-btn" onclick="resetFilters('filter-panel')">重置</button>
                        <button type="button" class="btn btn-primary filter-btn" onclick="applyFilters('filter-panel')">应用筛选</button>
                    </div>
                `;

                // Add to page for demo
                const overviewView = document.querySelector('#dynamic-content');
                if (overviewView) {
                    overviewView.insertBefore(demoPanel, overviewView.firstChild);
                }
            }

            // Add event listeners for filter panels
            document.querySelectorAll('.filter-panel').forEach(panel => {
                // Toggle button functionality
                const toggleBtn = panel.querySelector('.filter-toggle');
                if (toggleBtn) {
                    toggleBtn.addEventListener('click', () => {
                        toggleFilterPanel(panel.id);
                    });
                }
            });
        }

        // Initialize all date pickers
        function initDatePickers() {
            // Create a demo date picker if none exist
            if (document.querySelectorAll('.date-picker').length === 0) {
                const demoPicker = document.createElement('div');
                demoPicker.className = 'date-picker';
                demoPicker.innerHTML = `
                    <input type="text" class="date-picker-input" placeholder="选择日期">
                    <div class="date-picker-calendar"></div>
                `;

                // Add to page for demo
                const overviewView = document.querySelector('#dynamic-content');
                if (overviewView) {
                    const demoContainer = document.createElement('div');
                    demoContainer.className = 'card';
                    demoContainer.innerHTML = '<div class="card-label">日期选择器演示</div>';
                    demoContainer.appendChild(demoPicker);
                    overviewView.appendChild(demoContainer);
                }
            }

            // Initialize all date pickers
            document.querySelectorAll('.date-picker').forEach(container => {
                new DatePicker(container);
            });
        }

        // Update switchTab function to initialize all components after content load
        const originalSwitchTab = switchTab;
        switchTab = function (id) {
            // Show loader when switching tabs
            showLoader();

            originalSwitchTab(id);

            // Wait for DOM to update before initializing components
            setTimeout(() => {
                initTableSorting();
                initModals();
                initDropdowns();
                initLoadingStates();
                initDatePickers();
                initFilterPanels();

                // Hide loader after components are initialized
                hideLoader();
            }, 200);
        };

        // 主题切换功能
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.getElementById('theme-toggle');

            // 切换主题类
            body.classList.toggle('light-theme');
            themeToggle.classList.toggle('dark');

            // 保存主题偏好到localStorage
            const isLight = body.classList.contains('light-theme');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        }

        // 初始化主题
        function initTheme() {
            const savedTheme = localStorage.getItem('theme');
            const body = document.body;
            const themeToggle = document.getElementById('theme-toggle');

            // 检查是否有保存的主题或用户偏好
            const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
            const isLight = savedTheme === 'light' || (!savedTheme && prefersLight);

            if (isLight) {
                body.classList.add('light-theme');
                themeToggle.classList.add('dark');
            }
        }

        window.onload = () => {
            // 初始化主题
            initTheme();

            // Show loader on initial page load
            showLoader();

            switchTab('overview');

            // Start health updates and initialize components after a short delay
            setTimeout(() => {
                startHealthUpdates();
                initModals();
                initDropdowns();
                initLoadingStates();
                initDatePickers();
                initFilterPanels();

                // Hide loader after initial setup is complete
                hideLoader();
            }, 1000);
        };
    </script>
</body>

</html>